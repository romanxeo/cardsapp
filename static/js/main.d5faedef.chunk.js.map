{"version":3,"sources":["pages/StartPage/StartPage.module.css","pages/RecoveryPassword/RecoveryPassword.module.css","pages/SignUp/SignUp.module.css","common/LoadingLine/LoadingLine.module.css","common/commonStyles.module.css","pages/Packs/Packs.module.css","pages/Error404/Error404.tsx","store/appReducer.ts","api/cardsAPI.ts","store/profileReducer.ts","store/logInReducer.ts","pages/LogIn/LogIn.tsx","store/setNewPasswordReducer.ts","pages/SetNewPassword/SetNewPassword.tsx","assets/icon/iconEmail.png","store/recoveryPasswordReducer.ts","pages/RecoveryPassword/RecoveryPassword.tsx","store/signUpReducer.ts","pages/SignUp/SignUp.tsx","common/LoadingLine/LoadingLine.tsx","common/ErrorSnackbar/ErrorSnackbar.tsx","pages/EditProfile/EditProfile.tsx","pages/Header/Header.tsx","pages/Profile/Profile.tsx","assets/noAvatar/noAvatar.png","pages/Profile/ProfileContainer.tsx","pages/StartPage/StartPage.tsx","store/packsReducer.ts","pages/Packs/SortPacks/SortPacks.tsx","common/ModalUpdatePack/ModalUpdatePack.tsx","common/ModalDeletePack/ModalDeletePack.tsx","common/SortButton/SortButton.tsx","common/Paginator/Paginator.tsx","common/ModalAddPack/ModalAddPack.tsx","pages/Packs/Packs.tsx","store/cardsReducer.ts","pages/Cards/CardsContainer.tsx","store/learnReducer.ts","pages/Learn/LearnQuestion.tsx","pages/Learn/LearnAnswer.tsx","pages/Learn/Learn.tsx","App.tsx","reportWebVitals.ts","store/store.ts","index.tsx","pages/Learn/Learn.module.css","pages/Cards/Cards.module.css","pages/Header/Haeder.module.css","pages/Profile/Profile.module.css","pages/Packs/SortPacks/SortPacks.module.css","common/ModalUpdatePack/ModalUpdatePack.module.css","common/ModalDeletePack/ModalDeletePack.module.css","common/ModalAddPack/ModalAddPack.module.css"],"names":["module","exports","Error404","setLoadingStatusAC","statusRequest","type","setAppErrorAC","error","initState","status","instance","axios","create","baseURL","withCredentials","cardsAPI","data","post","email","password","payload","delete","from","message","resetPasswordToken","packsAPI","isMyPacks","_id","pageCount","page","sortPacks","_name","allMin","allMax","user_id","packName","get","name","isPrivate","cardsPack","put","learnAPI","grade","card_id","trainingCardsAPI","cardsPack_id","setUserDataAC","avatar","publicCardPacksCount","created","updated","isAdmin","verified","rememberMe","setUserDataTC","dispatch","then","res","setIsLoggedInAC","catch","e","response","value","buttonDisabledAC","buttonDisabled","initialState","isLoggedIn","LogIn","useSelector","state","useDispatch","formik","useFormik","initialValues","validate","values","errors","test","length","onSubmit","resetForm","to","className","cs","background","blockContainer","text","FormControl","formControl","handleSubmit","form","FormGroup","TextField","variant","size","label","margin","getFieldProps","style","touched","color","FormControlLabel","control","Checkbox","checked","buttonBlock","Button","button","disabled","completed","SetNewPassword","setNewPassword","token","useParams","confirmPassword","RecoveryPassword","src","iconEmail","s","icon","navlink","SignUp","LoadingLine","app","loadingStyle","LinearProgress","Alert","props","elevation","ErrorSnackbar","handleClose","event","reason","Snackbar","open","autoHideDuration","onClose","severity","EditProfile","Header","history","useHistory","headerBlock","nav","item","activeClassName","activeLink","isLoginFix","onClick","LogoutData","push","Profile","imgContainer","userData","alt","imgAvatar","textBlock","textOne","textTwo","onClickHandler","ProfileContainer","useEffect","StartPage","isMyPacksAC","switchPageCountAC","changePageAC","sortPacksAC","packNameAC","changeRangeAC","cardPacks","cardPacksTotalCount","maxCardsCount","minCardsCount","pagesButtonSwitcher","fetchPacksTC","getState","Packs","sortPacksTC","a","SortPacks","changeRange","changeRangeTC","target","cont","switch","Switch","onChange","isMyPacksTC","currentTarget","inputProps","isMyPack","selectCont","select","sx","m","minWidth","Select","labelId","id","toString","val","Number","switchPageCountTC","MenuItem","searchText","search","packNameTC","sliderCont","slider","Slider","min","max","valueLabelDisplay","ModalUpdatePack","useState","show","setShow","title","setTitle","onClickNo","backgroundModal","modalContainer","ModalDeletePack","SortButton","sortDirUp","sortDirDown","Paginator","map","b","changePageTC","ModalAddPack","setIsPrivate","addPackTC","myProfileId","resultPack","p","date","Date","time","Intl","DateTimeFormat","hour","minute","second","format","spanName","substring","spanNumber","cardsCount","spanAuthor","user_name","spanButton","containerOne","spanDesc","cards","cardsTotalCount","maxGrade","minGrade","packUserId","fetchCardsTC","getCardsTotalCountAC","CardsContainer","Cards","console","log","resultCard","spanQuestion","question","spanAnswer","answer","String","alert","resultTitle","LearnQuestion","React","memo","container","blockOne","card","setShowAnswer","grades","LearnAnswer","onNextCard","setValue","onChangeHandler","useCallback","answerText","getCard","sum","reduce","acc","rand","Math","random","i","newSum","Learn","showAnswer","firstCard","setFirstCard","setCard","learnCardsTC","App","exact","path","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","copyState","pagesCount","ceil","pagesButtonSwitcherNew","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.d5faedef.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"background\":\"StartPage_background__WCaXT\",\"test\":\"StartPage_test__1Jj3R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navlink\":\"RecoveryPassword_navlink__2li2B\",\"icon\":\"RecoveryPassword_icon__I20tP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navlink\":\"SignUp_navlink__2-f5j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadingStyle\":\"LoadingLine_loadingStyle__1uG-p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"background\":\"commonStyles_background__20Fo_\",\"blockContainer\":\"commonStyles_blockContainer__3gIFf\",\"form\":\"commonStyles_form__nev2b\",\"text\":\"commonStyles_text__lIUVT\",\"formControl\":\"commonStyles_formControl__35-EK\",\"button\":\"commonStyles_button__1-WTl\",\"buttonBlock\":\"commonStyles_buttonBlock__jqV0Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"background\":\"Packs_background__158Uc\",\"blockContainer\":\"Packs_blockContainer__15fzB\",\"resultPack\":\"Packs_resultPack__DlF41\",\"spanName\":\"Packs_spanName__1PziM\",\"spanNumber\":\"Packs_spanNumber__1_JHt\",\"spanAuthor\":\"Packs_spanAuthor__14ukL\",\"spanDesc\":\"Packs_spanDesc__1zNMs\",\"spanButton\":\"Packs_spanButton__T-pju\",\"containerOne\":\"Packs_containerOne__3Oi9L\"};","import React from 'react';\r\n\r\nfunction Error404() {\r\n    return (\r\n        <div>\r\n            Error404\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error404","export type RequestStatusType = 'idle' | 'loading'\r\n//test2\r\nexport const setLoadingStatusAC = (statusRequest: RequestStatusType) => {\r\n    return {\r\n        type: \"APP/SET-STATUS\",\r\n        statusRequest\r\n    } as const\r\n}\r\n\r\nexport const setAppErrorAC = (error: null | string) => {\r\n    return {\r\n        type: \"APP/SET-ERROR\",\r\n        error\r\n    } as const\r\n}\r\n\r\nexport type setLoadingStatusAT = ReturnType<typeof setLoadingStatusAC>\r\nexport type setAppErrorAT = ReturnType<typeof setAppErrorAC>\r\n\r\nexport type actionAppType = setLoadingStatusAT | setAppErrorAT\r\n\r\nexport const initState = {\r\n    status: 0,\r\n    error: null as null | string\r\n\r\n}\r\n\r\ntype InitStateType = typeof initState\r\n\r\nexport const appReducer = (state: InitStateType = initState, action: actionAppType): InitStateType => {\r\n    switch (action.type) {\r\n        case \"APP/SET-STATUS\": {\r\n            let copyState = {...state};\r\n            if (action.statusRequest === 'loading') {\r\n                copyState.status++\r\n            } else {\r\n                copyState.status--\r\n            }\r\n            return copyState\r\n        }\r\n        case 'APP/SET-ERROR':\r\n            return {...state, error: action.error}\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: \"https://neko-back.herokuapp.com/2.0/\",\r\n    // baseURL: \"http://localhost:7542/2.0/\",\r\n    withCredentials: true,\r\n})\r\n\r\nexport const cardsAPI = {\r\n    login(data: LoginParamsType) {\r\n        return instance.post<UserDataType>(`/auth/login`, data)\r\n    },\r\n    me() {\r\n        return instance.post<UserDataType>(`auth/me`)\r\n    },\r\n    register(email: string, password: string) {\r\n        const payload = {\r\n            email,\r\n            password\r\n        }\r\n        const promise = instance.post<any>('auth/register', payload);\r\n        return promise;\r\n    },\r\n    updateProfileData(name: string, avatar: string) {\r\n        //change profile data\r\n        const payload = {\r\n            name,\r\n            avatar\r\n        }\r\n        return instance.put<UserDataType>(`auth/me`, payload)\r\n    },\r\n    logOut() {\r\n        return instance.delete<any>('auth/me')\r\n    },\r\n    forgotPassword(email: string) {\r\n        const payload = {\r\n            email,\r\n            from: `test-front-admin <romanxeo@gmail.com>`,\r\n            message: `<div style=\"background-color: #a3c486; padding: 10px\">\r\n                        password recovery link: \r\n                        <a href='http://localhost:3000/#/SetNewPassword/$token$'>\r\n                        link local</a>\r\n                        <a href='https://romanxeo.github.io/cardsapp/#/SetNewPassword/$token$'>\r\n                        link gh-pages</a></div>`\r\n        }\r\n        const promise = instance.post<any>('auth/forgot', payload);\r\n        return promise;\r\n    },\r\n    setNewPassword(password: string, resetPasswordToken: string) {\r\n        const payload = {\r\n            password,\r\n            resetPasswordToken\r\n        }\r\n        const promise = instance.post<any>('auth/set-new-password', payload);\r\n        return promise;\r\n    },\r\n}\r\n\r\nexport const packsAPI = {\r\n    getPacks(isMyPacks: boolean,\r\n             _id: string,\r\n             pageCount: number,\r\n             page: number,\r\n             sortPacks: string | null,\r\n             _name: string,\r\n             allMin: number,\r\n             allMax: number) {\r\n        let user_id = ''\r\n        if (isMyPacks) {\r\n            user_id = `&user_id=${_id}`\r\n        }\r\n        let packName = ''\r\n        if (_name) {\r\n            packName = `&packName=${_name}`\r\n        }\r\n        return instance.get<PacksResponseType>(`cards/pack?pageCount=${pageCount}&page=${page}&sortPacks=${sortPacks}&min=${allMin}&max=${allMax}`+user_id+packName)\r\n    },\r\n    addPack(name: string, isPrivate: boolean) {\r\n        const payload = {\r\n            cardsPack: {\r\n                name, ['private']: isPrivate\r\n            }\r\n        }\r\n        return instance.post<PackType>('cards/pack', payload)\r\n    },\r\n    deletePack(_id: string) {\r\n        return instance.delete<PackType>(`cards/pack?id=${_id}`)\r\n    },\r\n    updatePack(_id: string, name: string) {\r\n        const payload = {\r\n            cardsPack: {name, _id}\r\n        }\r\n        return instance.put<PackType>(`cards/pack`, payload)\r\n    }\r\n}\r\n\r\nexport const learnAPI = {\r\n    gradeCard(grade: number, card_id: string) {\r\n        return instance.put<GradeDataType>(`cards/grade`, {grade, card_id})\r\n    }\r\n}\r\n\r\nexport const trainingCardsAPI = {\r\n    getCards(cardsPack_id: string, pageCount: number) {\r\n        return instance.get<CardsResponseType>(`cards/card?cardsPack_id=${cardsPack_id}&pageCount=${pageCount}`)\r\n    },\r\n\r\n\r\n    addCard(cardsPack_id: string, question: string, answer: string, grade: number) {\r\n        const payload = {\r\n            card: {cardsPack_id, question, answer, grade},\r\n        }\r\n        return instance.post<CardType>(`cards/card`, payload)\r\n    },\r\n    deleteCard(_id: string) {\r\n        return instance.delete<CardType>(`cards/card?id=${_id}`)\r\n    },\r\n    updateCard(_id: string, question: string, answer: string, grade: number) {\r\n        const payload = {\r\n            card: {_id, question, answer, grade},\r\n        }\r\n        return instance.put<CardType>(`cards/card`, payload)\r\n    }\r\n\r\n}\r\n\r\n\r\nexport type LoginParamsType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\nexport type UserDataType = {\r\n    _id: string\r\n    email: string\r\n    name: string\r\n    avatar?: string\r\n    publicCardPacksCount: number\r\n    created: string\r\n    updated: string\r\n    isAdmin: boolean\r\n    verified: boolean\r\n    rememberMe: boolean\r\n}\r\n\r\nexport type PackType = {\r\n    _id: string\r\n    user_name: string\r\n    user_id: string\r\n    updated: string\r\n    shots: number\r\n    rating: number\r\n    private: boolean\r\n    name: string\r\n    grade: number\r\n    created: string\r\n    cardsCount: number\r\n}\r\n\r\nexport type PacksResponseType = {\r\n    cardPacks: Array<PackType>\r\n    cardPacksTotalCount: number // количество колод\r\n    maxCardsCount: number\r\n    minCardsCount: number\r\n    page: number// выбранная страница\r\n    pageCount: number // количество элементов на странице\r\n}\r\n\r\nexport type CardType = {\r\n    answer: string\r\n    answerImg: string\r\n    answerVideo: string\r\n    cardsPack_id: string\r\n    comment: string\r\n    created: string\r\n    grade: number\r\n    more_id: string\r\n    question: string\r\n    questionImg: string\r\n    questionVideo: string\r\n    rating: number\r\n    shots: number\r\n    type: string\r\n    updated: string\r\n    user_id: string\r\n    _id: string\r\n}\r\n\r\nexport type CardsResponseType = {\r\n    cards: CardType[]\r\n    cardsTotalCount: number\r\n    maxGrade: number\r\n    minGrade: number\r\n    packUserId: string\r\n    page: number\r\n    pageCount: number\r\n}\r\n\r\nexport type GradeDataType = {\r\n    _id: string\r\n    cardsPack_id: string\r\n    card_id: string\r\n    user_id: string\r\n    grade: number\r\n    shots: number\r\n}","import {cardsAPI, UserDataType} from \"../api/cardsAPI\";\r\nimport {setAppErrorAC, setAppErrorAT, setLoadingStatusAC, setLoadingStatusAT} from \"./appReducer\";\r\nimport {setIsLoggedInAC} from \"./logInReducer\";\r\n\r\n\r\nexport const setUserDataAC = (data: UserDataType) => ({\r\n    type: \"PROFILE/SET-USER-DATA\", data\r\n} as const)\r\n\r\nexport type setUserDataAT = ReturnType<typeof setUserDataAC>\r\n\r\nexport type actionProfileType = setUserDataAT\r\n    | setLoadingStatusAT\r\n    | setAppErrorAT\r\n\r\nexport const initState = {\r\n    _id: '',\r\n    email: '',\r\n    name: '',\r\n    avatar: '',\r\n    publicCardPacksCount: 0,\r\n    created: '',\r\n    updated: '',\r\n    isAdmin: false,\r\n    verified: false,\r\n    rememberMe: false,\r\n}\r\n\r\ntype InitStateType = typeof initState\r\n\r\nexport const ProfileReducer = (state: InitStateType = initState, action: actionProfileType): InitStateType => {\r\n    switch (action.type) {\r\n        case \"PROFILE/SET-USER-DATA\": {\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            }\r\n        }\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n// thunks\r\nexport const setUserDataTC = () => {\r\n    return (dispatch: any) => {\r\n        dispatch(setLoadingStatusAC('loading'))\r\n        cardsAPI.me()\r\n            .then(res => {\r\n                dispatch(setUserDataAC(res.data))\r\n                dispatch(setIsLoggedInAC(true))\r\n                dispatch(setLoadingStatusAC('idle'))\r\n\r\n            })\r\n            .catch(e => {\r\n                const error = e.response ? e.response.data.error : e.message\r\n                dispatch(setAppErrorAC(error))\r\n                dispatch(setLoadingStatusAC('idle'))\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/*type ThunkDispatch = Dispatch<actionProfileType>*/\r\n/*\r\nexport const setUserDataACTwo = (name: string, avatar: string, _id: string, publicCardPacksCount: number) => ({\r\n    type: setUserData, name, avatar, _id, publicCardPacksCount\r\n} as const)\r\n*/\r\n/*export const setUserDataTCtwo = () => {\r\n    return (dispatch: any) => {\r\n        dispatch(setLoadingStatusAC('loading'))\r\n        cardsAPI.me()\r\n            .then((res) => {\r\n                dispatch(setUserDataAC(res.data.name, res.data.avatar ? res.data.avatar : \"\", res.data._id,\r\n                    res.data.publicCardPacksCount))\r\n\r\n                dispatch(setLoadingStatusAC('idle'))\r\n            })\r\n            .catch((e) => {\r\n                dispatch(setLoadingStatusAC('idle'))\r\n                const error = e.response ? e.response.data.error : e.message\r\n                dispatch(setAppErrorAC(error))\r\n            })\r\n    }\r\n\r\n}*/","import {setLoadingStatusAC, setAppErrorAC, setLoadingStatusAT, setAppErrorAT} from './appReducer'\r\nimport {LoginParamsType, cardsAPI, UserDataType} from \"../api/cardsAPI\";\r\nimport {Dispatch} from 'redux';\r\nimport {setUserDataAC, setUserDataAT} from \"./profileReducer\";\r\n\r\n// actions\r\nexport const setIsLoggedInAC = (value: boolean) =>\r\n    ({type: 'LOGIN/SET-IS-LOGGED-IN', value} as const)\r\n\r\nconst buttonDisabledAC = (buttonDisabled: boolean) => {\r\n    return {\r\n        type: \"LOGIN/BUTTON-DISABLED\",\r\n        buttonDisabled\r\n    } as const\r\n}\r\n\r\nexport type setIsLoggedInAT = ReturnType<typeof setIsLoggedInAC>\r\nexport type buttonDisabledAT = ReturnType<typeof buttonDisabledAC>\r\n\r\n// types\r\ntype actionLogInType = setIsLoggedInAT\r\n    | buttonDisabledAT\r\n    | setLoadingStatusAT\r\n    | setUserDataAT\r\n    | setAppErrorAT\r\n\r\nconst initialState = {\r\n    isLoggedIn: false,\r\n    buttonDisabled: false\r\n}\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\nexport const LogInReducer = (state: InitialStateType = initialState, action: actionLogInType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'LOGIN/SET-IS-LOGGED-IN':\r\n            return {...state, isLoggedIn: action.value}\r\n        case \"LOGIN/BUTTON-DISABLED\": {\r\n            return {...state, buttonDisabled: action.buttonDisabled}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\n// thunks\r\n/*export const loginTwTC = (data: LoginParamsType) => (dispatch: any) => {\r\n    dispatch(setLoadingStatusAC('loading'))\r\n    cardsAPI.login(data)\r\n        .then((res) => {\r\n            dispatch(setIsLoggedInAC(true))\r\n            dispatch(setLoadingStatusAC('idle'))\r\n            dispatch(setUserDataAC(res.data.name, res.data.avatar ? res.data.avatar : \"\", res.data._id,\r\n                res.data.publicCardPacksCount))\r\n        })\r\n        .catch(e => {\r\n            //dispatch(setAppErrorAC('dfdgfd'))\r\n            const error = e.response ? e.response.data.error : e.message\r\n            dispatch(setAppErrorAC(error))\r\n            dispatch(setLoadingStatusAC('idle'))\r\n        })\r\n}*/\r\n\r\n//thunk\r\nexport const loginTC = (data: LoginParamsType) => {\r\n    return (dispatch: Dispatch<actionLogInType>) => {\r\n        dispatch(buttonDisabledAC(true))\r\n        dispatch(setLoadingStatusAC('loading'))\r\n        cardsAPI.login(data)\r\n            .then(res => {\r\n                dispatch(setUserDataAC(res.data))\r\n                dispatch(setIsLoggedInAC(true))\r\n                dispatch(buttonDisabledAC(false))\r\n                dispatch(setLoadingStatusAC('idle'))\r\n\r\n            })\r\n            .catch(e => {\r\n                const error = e.response ? e.response.data.error : \"some unknown error\"\r\n                dispatch(setAppErrorAC(error))\r\n                dispatch(buttonDisabledAC(false))\r\n                dispatch(setLoadingStatusAC('idle'))\r\n            })\r\n    }\r\n}\r\n\r\nexport const logoutTC = () => {\r\n    return (dispatch: Dispatch<actionLogInType>) => {\r\n        const LogoutData: UserDataType = {\r\n            _id: '',\r\n            email: '',\r\n            name: '',\r\n            avatar: '',\r\n            publicCardPacksCount: 0,\r\n            created: '',\r\n            updated: '',\r\n            isAdmin: false,\r\n            verified: false,\r\n            rememberMe: false,\r\n        }\r\n        dispatch(setLoadingStatusAC('loading'))\r\n        cardsAPI.logOut()\r\n            .then((res) => {\r\n                dispatch(setUserDataAC(LogoutData))\r\n                dispatch(setIsLoggedInAC(false))\r\n                dispatch(setLoadingStatusAC('idle'))\r\n            })\r\n            .catch(e => {\r\n                const error = e.response ? e.response.data.error : e.message\r\n                dispatch(setAppErrorAC(error))\r\n                dispatch(setLoadingStatusAC('idle'))\r\n            })\r\n    }\r\n}\r\n","import React from 'react'\r\nimport Grid from '@mui/material/Grid';\r\nimport Checkbox from '@mui/material/Checkbox';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport FormGroup from '@mui/material/FormGroup';\r\nimport FormLabel from '@mui/material/FormLabel';\r\n\r\nimport {useFormik} from \"formik\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {loginTC} from \"../../store/logInReducer\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {NavLink, Redirect} from 'react-router-dom';\r\nimport cs from \"../../common/commonStyles.module.css\";\r\n\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Button from \"@mui/material/Button\";\r\n\r\n\r\ntype FormikErrorType = {\r\n    email?: string\r\n    password?: string\r\n    rememberMe?: boolean\r\n}\r\n\r\nexport const LogIn = () => {\r\n\r\n    let buttonDisabled = useSelector<AppRootStateType, boolean>(state => state.LogIn.buttonDisabled)\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean> (state => state.LogIn.isLoggedIn)\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            email: 'romanxeo@gmail.com',\r\n            password: 'dubfrufp37',\r\n            rememberMe: false\r\n        },\r\n        validate: (values) => {\r\n            const errors: FormikErrorType = {};\r\n            if (!values.email) {\r\n                errors.email = 'Required';\r\n            } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n                errors.email = 'Invalid email address';\r\n            }\r\n            if (!values.password) {\r\n                errors.password = 'Поле пароль обязательно';\r\n            } else if (values.password.length < 3) {\r\n                errors.password = 'Длина пароля должна быть больше 3 символов';\r\n            }\r\n            return errors;\r\n        },\r\n        onSubmit: values => {\r\n            dispatch(loginTC(values))\r\n            formik.resetForm();\r\n        },\r\n    });\r\n\r\n\r\n    if (isLoggedIn) {\r\n        return (\r\n            <Redirect to={'/profile'}/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className={cs.background}>\r\n            <div className={cs.blockContainer}>\r\n                <h2 className={cs.text}>IT Incubator</h2>\r\n                <h3 className={cs.text}>Log In</h3>\r\n                <FormControl className={cs.formControl}>\r\n                    <form onSubmit={formik.handleSubmit} className={cs.form}>\r\n                        <FormGroup>\r\n                            <TextField\r\n                                variant={\"outlined\"}\r\n                                size={'small'}\r\n                                label='E-mail'\r\n                                margin=\"normal\"\r\n                                {...formik.getFieldProps('email')}\r\n                            />\r\n\r\n                            <div style={{'height': '20px'}}>\r\n                                {formik.touched.email && formik.errors.email &&\r\n                                <div style={{color: 'red'}}>{formik.errors.email}</div>}\r\n                            </div>\r\n\r\n\r\n                            <TextField\r\n                                variant={\"outlined\"}\r\n                                type=\"password\"\r\n                                size={'small'}\r\n                                label='Password'\r\n                                margin=\"normal\"\r\n                                {...formik.getFieldProps('password')}\r\n                            />\r\n\r\n                            <div style={{'height': '20px'}}>\r\n                                {formik.touched.password && formik.errors.password &&\r\n                                <div style={{color: 'red'}}>{formik.errors.password}</div>}\r\n                            </div>\r\n\r\n                            <FormControlLabel\r\n                                label={'Remember me'}\r\n                                control={<Checkbox/>}\r\n                                {...formik.getFieldProps('rememberMe')}\r\n                                checked={formik.values.rememberMe}\r\n                            />\r\n\r\n                            <div className={cs.buttonBlock}>\r\n                                <Button\r\n                                    className={cs.button}\r\n                                    type={'submit'}\r\n                                    variant={'contained'}\r\n                                    color={'primary'}\r\n                                    size={'small'}\r\n                                    disabled={buttonDisabled}\r\n                                >\r\n                                    Login\r\n                                </Button>\r\n                            </div>\r\n\r\n                        </FormGroup>\r\n                    </form>\r\n                </FormControl>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n","import {cardsAPI} from \"../api/cardsAPI\";\r\nimport {setAppErrorAC, setLoadingStatusAC} from \"./appReducer\";\r\n\r\nconst buttonDisabledAC = (buttonDisabled: boolean) => {\r\n    return {\r\n        type: \"SET-NEW-PASSWORD/BUTTON-DISABLED\",\r\n        buttonDisabled\r\n    } as const\r\n}\r\n\r\nconst completedRequestAC = (completed: boolean) => {\r\n    return {\r\n        type: \"SET-NEW-PASSWORD/COMPLETED-REQUEST\",\r\n        completed\r\n    } as const\r\n}\r\n\r\nexport type buttonDisabledAT = ReturnType<typeof buttonDisabledAC>\r\nexport type completedRequestAT = ReturnType<typeof completedRequestAC>\r\n\r\nexport type actionSetNewPasswordType =\r\n    buttonDisabledAT | completedRequestAT\r\n\r\nexport const initState = {\r\n    completed: false,\r\n    buttonDisabled: false\r\n}\r\n\r\ntype InitStateType = typeof initState\r\n\r\nexport const setNewPasswordReducer = (state: InitStateType = initState, action: actionSetNewPasswordType): InitStateType => {\r\n    switch (action.type) {\r\n        case \"SET-NEW-PASSWORD/BUTTON-DISABLED\": {\r\n            return {...state, buttonDisabled: action.buttonDisabled}\r\n        }\r\n        case \"SET-NEW-PASSWORD/COMPLETED-REQUEST\": {\r\n            return {...state, completed: action.completed}\r\n        }\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\n\r\n//thunk\r\nexport const setNewPasswordTC = (password: string, resetPasswordToken: string) => {\r\n    return (dispatch: any) => {\r\n        dispatch(buttonDisabledAC(true))\r\n        dispatch(setLoadingStatusAC('loading'))\r\n        cardsAPI.setNewPassword(password, resetPasswordToken)\r\n            .then(res => {\r\n                dispatch(buttonDisabledAC(false))\r\n                dispatch(setLoadingStatusAC('idle'))\r\n                dispatch(completedRequestAC(true))\r\n            })\r\n            .catch(e => {\r\n                //console.log(err)\r\n                const error = e.response ? e.response.data.error : \"some unknown error\"\r\n                dispatch(setAppErrorAC(error))\r\n                dispatch(buttonDisabledAC(false))\r\n                dispatch(setLoadingStatusAC('idle'))\r\n            })\r\n    }\r\n}\r\n","import React from 'react';\r\n//import s from './RecoveryPassword.module.css';\r\nimport cs from '../../common/commonStyles.module.css'\r\nimport {useFormik} from \"formik\";\r\n\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Redirect, useParams} from 'react-router-dom';\r\nimport {setNewPasswordTC} from \"../../store/setNewPasswordReducer\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\n\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Button from \"@mui/material/Button\";\r\n\r\n\r\n\r\ntype FormikErrorType = {\r\n    password?: string\r\n    confirmPassword?: string\r\n}\r\n\r\nconst SetNewPassword = () => {\r\n\r\n    let completed = useSelector<AppRootStateType, boolean>(state => state.setNewPassword.completed)\r\n    let buttonDisabled = useSelector<AppRootStateType, boolean>(state => state.setNewPassword.buttonDisabled)\r\n    const {token} = useParams<{ token: string }>()\r\n    const dispatch = useDispatch()\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            password: '',\r\n            confirmPassword: ''\r\n        },\r\n        validate: (values) => {\r\n            const errors: FormikErrorType = {};\r\n            if (!values.password) {\r\n                errors.password = 'ПУСТО';\r\n            } else if (values.password.length < 4) {\r\n                errors.password = 'БОЛЬШЕ ТРЕХ СИМВОЛОВ ДОЛЖНО БЫТЬ';\r\n            }\r\n\r\n            if (values.password !== values.confirmPassword) {\r\n                errors.confirmPassword = 'ПАРОЛИ НЕ СОВПАДАЮТ'\r\n            }\r\n            return errors;\r\n        },\r\n        onSubmit: (values) => {\r\n            dispatch(setNewPasswordTC(values.password, token))\r\n        }\r\n    })\r\n\r\n    if (completed) {\r\n        return (\r\n            <Redirect to={'/login'}/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className={cs.background}>\r\n            <div className={cs.blockContainer}>\r\n                <h2 className={cs.text}>It-incubator</h2>\r\n                <h3 className={cs.text}>Create new password</h3>\r\n                <FormControl className={cs.formControl}>\r\n                    <form onSubmit={formik.handleSubmit} className={cs.form}>\r\n                        <FormGroup>\r\n                            <TextField\r\n                                variant={\"outlined\"}\r\n                                size={'small'}\r\n                                label='password'\r\n                                margin=\"normal\"\r\n                                type=\"password\"\r\n                                {...formik.getFieldProps('password')}\r\n                            />\r\n\r\n                            <div style={{'height': '20px'}}>\r\n                                {formik.touched.password && formik.errors.password &&\r\n                                <div style={{color: 'red'}}>{formik.errors.password}</div>}\r\n                            </div>\r\n\r\n                            <TextField\r\n                                variant={\"outlined\"}\r\n                                size={'small'}\r\n                                label='confirmPassword'\r\n                                margin=\"normal\"\r\n                                type=\"password\"\r\n                                {...formik.getFieldProps('confirmPassword')}\r\n                            />\r\n\r\n                            <div style={{'height': '20px'}}>\r\n                                {formik.touched.confirmPassword && formik.errors.confirmPassword &&\r\n                                <div style={{color: 'red'}}>{formik.errors.confirmPassword}</div>}\r\n                            </div>\r\n\r\n                            <p>Create new password and we will send you further instructions to E-mail</p>\r\n\r\n                            <div className={cs.buttonBlock}>\r\n                                <Button\r\n                                    className={cs.button}\r\n                                    type={'submit'}\r\n                                    variant={'contained'}\r\n                                    color={'primary'}\r\n                                    size={'small'}\r\n                                    disabled={buttonDisabled}\r\n                                >\r\n                                    Create new password\r\n                                </Button>\r\n                            </div>\r\n\r\n                        </FormGroup>\r\n                    </form>\r\n                </FormControl>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SetNewPassword","export default __webpack_public_path__ + \"static/media/iconEmail.f254994b.png\";","import {cardsAPI} from \"../api/cardsAPI\";\r\nimport {setAppErrorAC, setLoadingStatusAC} from \"./appReducer\";\r\n\r\nconst buttonDisabledAC = (buttonDisabled: boolean) => {\r\n    return {\r\n        type: \"RECOVERY-PASSWORD/BUTTON-DISABLED\",\r\n        buttonDisabled\r\n    } as const\r\n}\r\n\r\nconst completedRequestAC = (completed: boolean) => {\r\n    return {\r\n        type: \"RECOVERY-PASSWORD/COMPLETED-REQUEST\",\r\n        completed\r\n    } as const\r\n}\r\n\r\nexport type buttonDisabledAT = ReturnType<typeof buttonDisabledAC>\r\nexport type completedRequestAT = ReturnType<typeof completedRequestAC>\r\n\r\nexport type actionRecoveryPasswordType =\r\n    buttonDisabledAT | completedRequestAT\r\n\r\nexport const initState = {\r\n    completed: false,\r\n    buttonDisabled: false\r\n}\r\n\r\ntype InitStateType = typeof initState\r\n\r\nexport const RecoveryPasswordReducer = (state: InitStateType = initState, action: actionRecoveryPasswordType): InitStateType => {\r\n    switch (action.type) {\r\n        case \"RECOVERY-PASSWORD/BUTTON-DISABLED\": {\r\n            return {...state, buttonDisabled: action.buttonDisabled}\r\n        }\r\n        case \"RECOVERY-PASSWORD/COMPLETED-REQUEST\": {\r\n            return {...state, completed: action.completed}\r\n        }\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n//thunk\r\nexport const forgotPasswordTC = (email: string) => {\r\n    return (dispatch: any) => {\r\n        dispatch(buttonDisabledAC(true))\r\n        dispatch(setLoadingStatusAC('loading'))\r\n        cardsAPI.forgotPassword(email)\r\n            .then(res => {\r\n                dispatch(buttonDisabledAC(false))\r\n                dispatch(setLoadingStatusAC('idle'))\r\n                dispatch(completedRequestAC(true))\r\n            })\r\n            .catch(e => {\r\n                const error = e.response ? e.response.data.error : \"some unknown error\"\r\n                dispatch(setAppErrorAC(error))\r\n                dispatch(buttonDisabledAC(false))\r\n                dispatch(setLoadingStatusAC('idle'))\r\n            })\r\n    }\r\n}","import React from 'react';\r\nimport s from './RecoveryPassword.module.css';\r\nimport cs from '../../common/commonStyles.module.css'\r\nimport {useFormik} from \"formik\";\r\nimport iconEmail from '../../assets/icon/iconEmail.png'\r\n\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport FormGroup from \"@mui/material/FormGroup\";\r\nimport { NavLink } from 'react-router-dom';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {forgotPasswordTC} from '../../store/recoveryPasswordReducer';\r\n\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Button from \"@mui/material/Button\";\r\n\r\n\r\ntype FormikErrorType = {\r\n    email?: string\r\n}\r\n\r\nfunction RecoveryPassword() {\r\n    let completed = useSelector<AppRootStateType, boolean>(state => state.RecoveryPassword.completed)\r\n    let buttonDisabled = useSelector<AppRootStateType, boolean>(state => state.RecoveryPassword.buttonDisabled)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            email: '',\r\n        },\r\n        validate: (values) => {\r\n            const errors: FormikErrorType = {};\r\n            if (!values.email) {\r\n                errors.email = 'Required';\r\n            } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n                errors.email = 'Invalid email address';\r\n            }\r\n            return errors;\r\n        },\r\n        onSubmit: values => {\r\n            dispatch(forgotPasswordTC(values.email))\r\n            formik.resetForm()\r\n        },\r\n    })\r\n\r\n\r\n    if (completed) {\r\n        return (\r\n            <div className={cs.background}>\r\n                <div className={cs.blockContainer}>\r\n                    <div className={cs.form}>\r\n                        <h2 className={cs.text}>It-incubator</h2>\r\n                        <img src={iconEmail} className={s.icon}/>\r\n                        <h3 className={cs.text}>Check E-mail</h3>\r\n                        <p className={cs.text}>We have sent instructions to your E-mail how to recover your password</p>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className={cs.background}>\r\n                <div className={cs.blockContainer}>\r\n                    <h2 className={cs.text}>IT Incubator</h2>\r\n                    <h3 className={cs.text}>Forgot your password?</h3>\r\n                    <FormControl className={cs.formControl}>\r\n                        <form onSubmit={formik.handleSubmit} className={cs.form}>\r\n                            <FormGroup>\r\n                                <TextField\r\n                                    variant={\"outlined\"}\r\n                                    size={'small'}\r\n                                    label='E-mail'\r\n                                    margin=\"normal\"\r\n                                    {...formik.getFieldProps('email')}\r\n                                />\r\n\r\n                                <div style={{'height': '20px'}}>\r\n                                    {formik.touched.email && formik.errors.email &&\r\n                                    <div style={{color: 'red'}}>{formik.errors.email}</div>}\r\n                                </div>\r\n\r\n                                <p>Enter your e-mail address and we will send you further instructions</p>\r\n\r\n                                <div className={cs.buttonBlock}>\r\n                                    <Button\r\n                                        className={cs.button}\r\n                                        type={'submit'}\r\n                                        variant={'contained'}\r\n                                        color={'primary'}\r\n                                        size={'small'}\r\n                                        disabled={buttonDisabled}\r\n                                    >\r\n                                        Send instructions\r\n                                    </Button>\r\n                                </div>\r\n\r\n                                <p>Did you remember your password?</p>\r\n\r\n                                <div className={cs.buttonBlock}>\r\n                                    <nav>\r\n                                        <NavLink\r\n                                            className={s.navlink}\r\n                                            to=\"/login\"\r\n                                        >\r\n                                            Try logging in\r\n                                        </NavLink>\r\n                                    </nav>\r\n                                </div>\r\n                            </FormGroup>\r\n                        </form>\r\n                    </FormControl>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default RecoveryPassword","import {cardsAPI} from \"../api/cardsAPI\";\r\nimport {setAppErrorAC, setLoadingStatusAC} from \"./appReducer\";\r\n\r\nconst buttonDisabledAC = (buttonDisabled: boolean) => {\r\n    return {\r\n        type: \"SIGN-UP/BUTTON-DISABLED\",\r\n        buttonDisabled\r\n    } as const\r\n}\r\n\r\nconst completedRequestAC = (completed: boolean) => {\r\n    return {\r\n        type: \"SIGN-UP/COMPLETED-REQUEST\",\r\n        completed\r\n    } as const\r\n}\r\n\r\nexport type buttonDisabledAT = ReturnType<typeof buttonDisabledAC>\r\nexport type completedRequestAT = ReturnType<typeof completedRequestAC>\r\n\r\nexport type actionSignUpType = buttonDisabledAT\r\n    | completedRequestAT\r\n\r\nexport const initState = {\r\n    completed: false,\r\n    buttonDisabled: false\r\n}\r\n\r\ntype InitStateType = typeof initState\r\n\r\nexport const SignUpReducer = (state: InitStateType = initState, action: actionSignUpType): InitStateType => {\r\n    switch (action.type) {\r\n        case \"SIGN-UP/BUTTON-DISABLED\": {\r\n            return {...state, buttonDisabled: action.buttonDisabled}\r\n        }\r\n        case \"SIGN-UP/COMPLETED-REQUEST\": {\r\n            return {...state, completed: action.completed}\r\n        }\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\n//thunk\r\nexport const registerTC = (email: string, password: string) => {\r\n    return (dispatch: any) => {\r\n        dispatch(buttonDisabledAC(true))\r\n        dispatch(setLoadingStatusAC('loading'))\r\n        cardsAPI.register(email, password)\r\n            .then(res => {\r\n                dispatch(buttonDisabledAC(false))\r\n                dispatch(setLoadingStatusAC('idle'))\r\n                dispatch(completedRequestAC(true))\r\n            })\r\n            .catch(e => {\r\n                const error = e.response ? e.response.data.error : \"some unknown error\"\r\n                dispatch(setAppErrorAC(error))\r\n                //dispatch(setAppErrorAC('unknown error'))\r\n                dispatch(buttonDisabledAC(false))\r\n                dispatch(setLoadingStatusAC('idle'))\r\n            })\r\n    }\r\n}","import React from 'react';\r\nimport s from './SignUp.module.css';\r\nimport cs from '../../common/commonStyles.module.css'\r\nimport {useFormik} from \"formik\";\r\n\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {NavLink, Redirect} from 'react-router-dom';\r\nimport {registerTC} from \"../../store/signUpReducer\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\n\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Button from \"@mui/material/Button\";\r\n\r\n\r\ntype FormikErrorType = {\r\n    email?: string,\r\n    password?: string,\r\n    confirmPassword?: string\r\n}\r\n\r\nconst SignUp = () => {\r\n\r\n    let completed = useSelector<AppRootStateType, boolean>(state => state.SignUp.completed)\r\n    let buttonDisabled = useSelector<AppRootStateType, boolean>(state => state.SignUp.buttonDisabled)\r\n    const dispatch = useDispatch()\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            email: '',\r\n            password: '',\r\n            confirmPassword: ''\r\n        },\r\n        validate: (values) => {\r\n            const errors: FormikErrorType = {};\r\n\r\n            if (!values.email) {\r\n                errors.email = 'Required';\r\n            } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n                errors.email = 'Invalid email address';\r\n            }\r\n\r\n            if (!values.password) {\r\n                errors.password = 'ПУСТО';\r\n            } else if (values.password.length < 4) {\r\n                errors.password = 'БОЛЬШЕ ТРЕХ СИМВОЛОВ ДОЛЖНО БЫТЬ';\r\n            }\r\n\r\n            if (values.password !== values.confirmPassword) {\r\n                errors.confirmPassword = 'ПАРОЛИ НЕ СОВПАДАЮТ'\r\n            }\r\n            return errors;\r\n        },\r\n        onSubmit: (values) => {\r\n            dispatch(registerTC(values.email, values.password))\r\n        }\r\n    })\r\n\r\n    if (completed) {\r\n        return (\r\n            <Redirect to={'/login'}/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className={cs.background}>\r\n            <div className={cs.blockContainer}>\r\n                <h2 className={cs.text}>IT Incubator</h2>\r\n                <h3 className={cs.text}>Sign Up</h3>\r\n                <FormControl className={cs.formControl}>\r\n                    <form onSubmit={formik.handleSubmit} className={cs.form}>\r\n                        <FormGroup>\r\n                            <TextField\r\n                                variant={\"outlined\"}\r\n                                size={'small'}\r\n                                label='email'\r\n                                margin=\"normal\"\r\n                                {...formik.getFieldProps('email')}\r\n                            />\r\n\r\n                            <div style={{'height': '20px'}}>\r\n                                {formik.touched.email && formik.errors.email &&\r\n                                <div style={{color: 'red'}}>{formik.errors.email}</div>}\r\n                            </div>\r\n\r\n                            <TextField\r\n                                variant={\"outlined\"}\r\n                                size={'small'}\r\n                                label='password'\r\n                                margin=\"normal\"\r\n                                type=\"password\"\r\n                                {...formik.getFieldProps('password')}\r\n                            />\r\n\r\n                            <div style={{'height': '20px'}}>\r\n                                {formik.touched.password && formik.errors.password &&\r\n                                <div style={{color: 'red'}}>{formik.errors.password}</div>}\r\n                            </div>\r\n\r\n                            <TextField\r\n                                variant={\"outlined\"}\r\n                                size={'small'}\r\n                                label='confirmPassword'\r\n                                margin=\"normal\"\r\n                                type=\"password\"\r\n                                {...formik.getFieldProps('confirmPassword')}\r\n                            />\r\n\r\n                            <div style={{'height': '20px'}}>\r\n                                {formik.touched.confirmPassword && formik.errors.confirmPassword &&\r\n                                <div style={{color: 'red'}}>{formik.errors.confirmPassword}</div>}\r\n                            </div>\r\n\r\n                            <div className={cs.buttonBlock}>\r\n                                <Button\r\n                                    className={cs.button}\r\n                                    type={'submit'}\r\n                                    variant={'contained'}\r\n                                    color={'primary'}\r\n                                    size={'small'}\r\n                                    disabled={buttonDisabled}\r\n                                >\r\n                                    Register\r\n                                </Button>\r\n                            </div>\r\n\r\n                            <div className={cs.buttonBlock}>\r\n                                <nav>\r\n                                    <NavLink\r\n                                        className={s.navlink}\r\n                                        to=\"/login\"\r\n                                    >\r\n                                        Login\r\n                                    </NavLink>\r\n                                </nav>\r\n                            </div>\r\n\r\n                        </FormGroup>\r\n                    </form>\r\n                </FormControl>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignUp","import React from 'react'\r\nimport s from './LoadingLine.module.css'\r\nimport LinearProgress from '@mui/material/LinearProgress'\r\nimport { useSelector } from 'react-redux'\r\nimport { AppRootStateType } from '../../store/store'\r\n\r\nconst LoadingLine = () => {\r\n\r\n    let status = useSelector<AppRootStateType, number>(state => state.app.status)\r\n\r\n    return (\r\n        <div className={s.loadingStyle}>\r\n            {status !== 0 && <LinearProgress color={\"secondary\"}/>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoadingLine","import React from 'react'\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {setAppErrorAC} from \"../../store/appReducer\";\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport MuiAlert, {AlertProps} from '@material-ui/lab/Alert'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\n\r\n\r\nfunction Alert(props: AlertProps) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />\r\n}\r\n\r\nexport function ErrorSnackbar() {\r\n\r\n    let error = useSelector<AppRootStateType, null | string>(state => state.app.error)\r\n    const dispatch = useDispatch()\r\n\r\n    const handleClose = (event?: React.SyntheticEvent, reason?: string) => {\r\n        if (reason === 'clickaway') {\r\n            return\r\n        }\r\n        dispatch(setAppErrorAC(null))\r\n    }\r\n\r\n    return (\r\n        <Snackbar\r\n            open={error !== null}\r\n            autoHideDuration={6000}\r\n            onClose={handleClose}\r\n        >\r\n            <Alert onClose={handleClose} severity=\"error\">\r\n                {error}\r\n            </Alert>\r\n        </Snackbar>\r\n    )\r\n}\r\n","import React from \"react\";\r\n\r\nfunction EditProfile() {\r\n    return (\r\n        <div>\r\n            Edit profile\r\n        </div>\r\n    )\r\n}\r\nexport default EditProfile","import React from \"react\";\r\nimport {NavLink, useHistory} from \"react-router-dom\";\r\nimport s from './Haeder.module.css'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {logoutTC, setIsLoggedInAC} from \"../../store/logInReducer\";\r\n\r\n\r\nfunction Header() {\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.LogIn.isLoggedIn)\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n\r\n\r\n    const onClickHandler = () => {\r\n        dispatch(logoutTC())\r\n        dispatch(setIsLoggedInAC(false))\r\n        history.push('/login');\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.headerBlock}>\r\n\r\n                <nav className={s.nav}>\r\n                    {!isLoggedIn && <div className={s.item}>\r\n                        <NavLink to={'/login'} activeClassName={s.activeLink}>Login</NavLink>\r\n                    </div>}\r\n                    {!isLoggedIn && <div className={s.item}>\r\n                        <NavLink to={'/SignUp'} activeClassName={s.activeLink}>SignUp</NavLink>\r\n                    </div>}\r\n                    {!isLoggedIn && <div className={s.item}>\r\n                        <NavLink to={'/RecoveryPassword'} activeClassName={s.activeLink}>Recovery password</NavLink>\r\n                    </div>}\r\n                    {isLoggedIn && <div className={s.item + ' ' + s.isLoginFix}>\r\n                        <NavLink to={'/Profile'} activeClassName={s.activeLink}>Profile</NavLink>\r\n                    </div>}\r\n                    {isLoggedIn && <div className={s.item + ' ' + s.isLoginFix}>\r\n                        <NavLink to={'/Packs'} activeClassName={s.activeLink}>Packs</NavLink>\r\n                    </div>}\r\n                    {isLoggedIn && <div className={s.item}>\r\n                        {/*<button onClick={onClickHandler}>Log out</button>*/}\r\n                        {/*<NavLink to={'/Packs'} activeClassName={s.activeLink}>Packs</NavLink>*/}\r\n                        <Button variant={'contained'}\r\n                                color={\"primary\"}\r\n                                size={\"small\"}\r\n                                onClick={onClickHandler}\r\n                        >Log out</Button>\r\n                    </div>}\r\n\r\n\r\n                </nav>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport s from \"./Profile.module.css\"\r\nimport cs from \"../../common/commonStyles.module.css\";\r\nimport Button from '@material-ui/core/Button';\r\nimport ModalQuestionContainer from \"../../_OLD/ModalQuestionContainer\";\r\nimport {UserDataType} from \"../../api/cardsAPI\";\r\nimport noAvatar from '../../assets/noAvatar/noAvatar.png'\r\n\r\ntype ProfilePropsType = {\r\n    userData: UserDataType\r\n    onClickHandler: () => void\r\n}\r\n\r\nfunction Profile(props: ProfilePropsType) {\r\n\r\n    return (\r\n        <div className={cs.background}>\r\n            <div className={cs.blockContainer}>\r\n                <div className={s.imgContainer}>\r\n                    <img\r\n                        src={props.userData.avatar ? props.userData.avatar : noAvatar}\r\n                        alt={props.userData.name}\r\n                        className={s.imgAvatar}\r\n                    />\r\n                </div>\r\n                <div className={s.textBlock}><span className={s.textOne}>Name: </span><span className={s.textTwo}>{props.userData.name}</span></div>\r\n                <div className={s.textBlock}><span className={s.textOne}>Email: </span><span className={s.textTwo}>{props.userData.email}</span></div>\r\n                <div className={s.textBlock}><span className={s.textOne}>Admin: </span><span className={s.textTwo}>{props.userData.isAdmin ? 'Yes' : 'No'}</span></div>\r\n                <div className={s.textBlock}><span className={s.textOne}>You have: </span><span className={s.textTwo}>{`${props.userData.publicCardPacksCount} public packs`}</span></div>\r\n\r\n                {/*<div><span>Account Created: </span><span>{props.userData.created}</span></div>\r\n                <div><span>Updated: </span><span>{props.userData.updated}</span></div>\r\n                <div><span>Remember me: </span><span>{props.userData.rememberMe ? 'Yes' : 'No'}</span></div>\r\n                <div><span>Verified: </span><span>{props.userData.verified ? 'Yes' : 'No'}</span></div>\r\n                <div><span>id: </span><span>{props.userData._id}</span></div>*/}\r\n\r\n                {/*<div className={s.text}>{props.userData.name}</div>\r\n                <div className={s.text}>{`You have ${props.userData.publicCardPacksCount} public packs`}</div>*/}\r\n\r\n                <div className={s.button}>\r\n                    <Button\r\n                        variant={'contained'}\r\n                        color={\"primary\"}\r\n                        size={\"small\"}\r\n                        onClick={props.onClickHandler}>\r\n                        Edit profile\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Profile","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAADIWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjI2RjhFNTlDMkExMDExRTNCQ0VCRTE3NUM5MzI5ODUxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjI2RjhFNTlEMkExMDExRTNCQ0VCRTE3NUM5MzI5ODUxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjZGOEU1OUEyQTEwMTFFM0JDRUJFMTc1QzkzMjk4NTEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MjZGOEU1OUIyQTEwMTFFM0JDRUJFMTc1QzkzMjk4NTEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5UPfFaAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADNQTFRFR3BMZmZmZmZm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\"","import React, { useEffect } from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {setUserDataTC} from \"../../store/profileReducer\";\r\nimport {Redirect, useHistory} from \"react-router-dom\";\r\nimport {setIsLoggedInAC} from \"../../store/logInReducer\";\r\nimport Profile from \"./Profile\";\r\nimport {UserDataType} from \"../../api/cardsAPI\";\r\n\r\nfunction ProfileContainer() {\r\n\r\n    const userData = useSelector<AppRootStateType, UserDataType>(state => state.Profile)\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.LogIn.isLoggedIn);\r\n    const dispatch = useDispatch()\r\n    const history = useHistory();\r\n\r\n    //const _id = useSelector<AppRootStateType, string>(state => state.Profile._id)\r\n    //const name = useSelector<AppRootStateType, string>(state => state.Profile.name);\r\n    //const avatar = useSelector<AppRootStateType, string>(state => state.Profile.avatar);\r\n    //const publicCardPacksCount = useSelector<AppRootStateType, number>(state => state.Profile.publicCardPacksCount);\r\n\r\n    useEffect(() => {\r\n        dispatch(setUserDataTC())\r\n    }, [])\r\n\r\n    const onClickHandler = () => {\r\n        history.push('/EditProfile');\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        dispatch(setUserDataTC());\r\n        if (!userData._id) {\r\n            return <Redirect to={\"/login\"}/>\r\n        } else {\r\n            dispatch(setIsLoggedInAC(true))\r\n        }\r\n\r\n    }\r\n    return <Profile userData={userData}\r\n                    onClickHandler={onClickHandler}/>\r\n\r\n}\r\n\r\nexport default ProfileContainer","import React from 'react';\r\nimport s from './StartPage.module.css'\r\n\r\n\r\nfunction StartPage() {\r\n\r\n    return (\r\n        <div className={s.background}>\r\n            <h1 className={s.test}>Hi! We glad to see you! </h1>\r\n            <h2 className={s.test}> This is application for learning with cards. </h2>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default StartPage;","import {packsAPI, PacksResponseType, PackType} from \"../api/cardsAPI\";\r\nimport {setAppErrorAC, setAppErrorAT, setLoadingStatusAC, setLoadingStatusAT} from \"./appReducer\";\r\nimport {ThunkAction, ThunkDispatch} from \"redux-thunk\";\r\nimport {AppRootStateType} from \"./store\";\r\n\r\n\r\nexport const getPacksAC = (payload: PacksResponseType) => ({\r\n    type: \"packs/GET-PACKS\", payload\r\n} as const)\r\n\r\nexport const isMyPacksAC = (isMyPacks: boolean) => ({\r\n    type: \"packs/IS-MY-PACKS\", isMyPacks\r\n} as const)\r\n\r\nexport const allPacksDataAC = (cardPacksTotalCount: number, maxCardsCount: number, minCardsCount: number, page: number, pageCount: number) => ({\r\n    type: \"packs/ALL-PACKS-DATA\", cardPacksTotalCount, maxCardsCount, minCardsCount, page, pageCount\r\n} as const)\r\n\r\nexport const switchPageCountAC = (pageCount: number) => ({\r\n    type: \"packs/SWITCH-PAGE-COUNT\", pageCount\r\n} as const)\r\n\r\nexport const changePageAC = (page: number) => ({\r\n    type: \"packs/CHANGE-PAGE\", page\r\n} as const)\r\n\r\nexport const pagesButtonSwitcherAC = () => ({\r\n    type: \"packs/PAGES-BUTTON-SWITCHER\"\r\n} as const)\r\n\r\nexport const sortPacksAC = (sortPacks: string | null) => ({\r\n    type: \"packs/SORT-PACKS\", sortPacks\r\n} as const)\r\n\r\nexport const packNameAC = (packName: string) => ({\r\n    type: \"packs/PACK-NAME\", packName\r\n} as const)\r\n\r\nexport const changeRangeAC = (allMin: number, allMax: number) => ({\r\n    type: \"packs/CHANGE-RANGE\", allMin, allMax\r\n} as const)\r\n\r\ntype getPacksAT = ReturnType<typeof getPacksAC>\r\ntype isMyPacksAT = ReturnType<typeof isMyPacksAC>\r\ntype allPacksDataAT = ReturnType<typeof allPacksDataAC>\r\ntype switchPageCountAT = ReturnType<typeof switchPageCountAC>\r\ntype changePageAT = ReturnType<typeof changePageAC>\r\ntype pagesButtonSwitcherAT = ReturnType<typeof pagesButtonSwitcherAC>\r\ntype sortPacksAT = ReturnType<typeof sortPacksAC>\r\ntype packNameAT = ReturnType<typeof packNameAC>\r\ntype changeRangeAT = ReturnType<typeof changeRangeAC>\r\n\r\nexport type ActionsPacksType = setLoadingStatusAT\r\n    | setAppErrorAT\r\n    | getPacksAT\r\n    | isMyPacksAT\r\n    | allPacksDataAT\r\n    | switchPageCountAT\r\n    | changePageAT\r\n    | pagesButtonSwitcherAT\r\n    | sortPacksAT\r\n    | packNameAT\r\n    | changeRangeAT\r\n\r\n\r\nexport type InitialStateType = {\r\n    cardPacks: Array<PackType>\r\n    isMyPacks: boolean\r\n    cardPacksTotalCount: number,\r\n    maxCardsCount: number,\r\n    minCardsCount: number,\r\n    page: number,\r\n    pageCount: number\r\n    pagesButtonSwitcher: Array<number>\r\n    sortPacks: string | null\r\n    packName: string\r\n    allMax: number,\r\n    allMin: number\r\n}\r\n\r\nconst initialState: InitialStateType = {\r\n    cardPacks: [],\r\n    isMyPacks: false,\r\n    cardPacksTotalCount: 0,\r\n    maxCardsCount: 0,\r\n    minCardsCount: 0,\r\n    page: 1,\r\n    pageCount: 10,\r\n    pagesButtonSwitcher: [],\r\n    sortPacks: null,\r\n    packName: '',\r\n    allMax: 0,\r\n    allMin: 0\r\n}\r\n\r\n\r\nexport const packsReducer = (state: InitialStateType = initialState, action: ActionsPacksType): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"packs/GET-PACKS\": {\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                allMax: state.allMax === 0 ? action.payload.maxCardsCount : state.allMax\r\n            }\r\n        }\r\n        case \"packs/IS-MY-PACKS\": {\r\n            return {...state, isMyPacks: action.isMyPacks}\r\n        }\r\n        case \"packs/SWITCH-PAGE-COUNT\": {\r\n            return {\r\n                ...state,\r\n                pageCount: action.pageCount\r\n            }\r\n        }\r\n        case \"packs/CHANGE-PAGE\": {\r\n            return {\r\n                ...state,\r\n                page: action.page\r\n            }\r\n        }\r\n        case \"packs/PAGES-BUTTON-SWITCHER\": {\r\n\r\n            let pagesCount = Math.ceil(state.cardPacksTotalCount / state.pageCount)\r\n\r\n            let pagesButtonSwitcherNew = [];\r\n\r\n            if (pagesCount < 6) {\r\n                for (let i = 1; i <= pagesCount; i++) {\r\n                    pagesButtonSwitcherNew.push(i)\r\n                }\r\n            }\r\n            else {\r\n                pagesButtonSwitcherNew.push(1)\r\n                if (state.page < 5) {\r\n                    for (let i = 2; i <= 6; i++) {\r\n                        pagesButtonSwitcherNew.push(i)\r\n                    }\r\n                }\r\n                else {\r\n                    if (state.page > pagesCount-3) {\r\n                        for (let i = 5; i >= 1; i--) {\r\n                            pagesButtonSwitcherNew.push(pagesCount-i)\r\n                        }\r\n                    }\r\n                    else {\r\n                        for (let i = state.page-2; i <= state.page+2; i++) {\r\n                            pagesButtonSwitcherNew.push(i)\r\n                        }\r\n                    }\r\n                }\r\n                pagesButtonSwitcherNew.push(pagesCount)\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                pagesButtonSwitcher: [...pagesButtonSwitcherNew]\r\n            }\r\n        }\r\n        case \"packs/SORT-PACKS\": {\r\n            return {\r\n                ...state,\r\n                sortPacks: action.sortPacks\r\n            }\r\n        }\r\n        case \"packs/PACK-NAME\": {\r\n            return {\r\n                ...state,\r\n                packName: action.packName\r\n            }\r\n        }\r\n        case \"packs/CHANGE-RANGE\": {\r\n            return {\r\n                ...state,\r\n                allMin: action.allMin,\r\n                allMax: action.allMax\r\n            }\r\n        }\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\ntype ThunkType = ThunkAction<void, AppRootStateType, unknown, ActionsPacksType>\r\n\r\n//thunk\r\nexport const fetchPacksTC = () => (dispatch: any, getState: () => AppRootStateType) => {\r\n    const isMyPacks = getState().Packs.isMyPacks\r\n    const _id = getState().Profile._id\r\n    const packName = getState().Packs.packName\r\n    const pageCount = getState().Packs.pageCount\r\n    const page = getState().Packs.page\r\n    const sortPacks = getState().Packs.sortPacks\r\n    const allMin = getState().Packs.allMin\r\n    const allMax = getState().Packs.allMax\r\n    //debugger\r\n\r\n    dispatch(setLoadingStatusAC('loading'))\r\n    packsAPI.getPacks(isMyPacks, _id, pageCount, page, sortPacks, packName, allMin, allMax)\r\n        .then((res) => {\r\n            dispatch(getPacksAC(res.data))\r\n            dispatch(pagesButtonSwitcherAC())\r\n            dispatch(setLoadingStatusAC('idle'))\r\n        })\r\n        .catch((e) => {\r\n            dispatch(setLoadingStatusAC('idle'))\r\n            const error = e.response ? e.response.data.error : e.message\r\n            dispatch(setAppErrorAC(error))\r\n        })\r\n}\r\n\r\nexport const isMyPacksTC = (isMyPacks: boolean) => async (dispatch: any) => {\r\n    await dispatch(setLoadingStatusAC('loading'));\r\n    await dispatch(isMyPacksAC(isMyPacks))\r\n    await dispatch(fetchPacksTC())\r\n    await dispatch(setLoadingStatusAC('idle'))\r\n}\r\n\r\nexport const switchPageCountTC = (pageCount: number) => async (dispatch: any) => {\r\n    await dispatch(setLoadingStatusAC('loading'));\r\n    await dispatch(switchPageCountAC(pageCount))\r\n    await dispatch(fetchPacksTC())\r\n    await dispatch(setLoadingStatusAC('idle'))\r\n}\r\n\r\nexport const changePageTC = (page: number) => async (dispatch: any) => {\r\n    await dispatch(setLoadingStatusAC('loading'));\r\n    await dispatch(changePageAC(page))\r\n    await dispatch(fetchPacksTC())\r\n    await dispatch(setLoadingStatusAC('idle'))\r\n}\r\n\r\nexport const sortPacksTC = (sortPacks: string | null) => async (dispatch: any) => {\r\n    await dispatch(setLoadingStatusAC('loading'));\r\n    await dispatch(sortPacksAC(sortPacks))\r\n    await dispatch(fetchPacksTC())\r\n    await dispatch(setLoadingStatusAC('idle'))\r\n}\r\n\r\nexport const packNameTC = (packName: string) => async (dispatch: any) => {\r\n    await dispatch(setLoadingStatusAC('loading'));\r\n    await dispatch(packNameAC(packName))\r\n    await dispatch(fetchPacksTC())\r\n    await dispatch(setLoadingStatusAC('idle'))\r\n}\r\n\r\nexport const changeRangeTC = (allMin: number, allMax: number) => async (dispatch: any) => {\r\n    await dispatch(setLoadingStatusAC('loading'));\r\n    await dispatch(changeRangeAC(allMin, allMax))\r\n    await dispatch(fetchPacksTC())\r\n    await dispatch(setLoadingStatusAC('idle'))\r\n}\r\n\r\nexport const addPackTC = (name: string, isPrivate: boolean): ThunkType => {\r\n    return (dispatch: ThunkDispatch<AppRootStateType, unknown, ActionsPacksType>) => {\r\n        dispatch(setLoadingStatusAC('loading'));\r\n        packsAPI.addPack(name, isPrivate)\r\n            .then((res) => {\r\n                dispatch(fetchPacksTC())\r\n                dispatch(setLoadingStatusAC('idle'))\r\n            })\r\n            .catch((e) => {\r\n                dispatch(setLoadingStatusAC('idle'))\r\n                const error = e.response ? e.response.data.error : e.message\r\n                dispatch(setAppErrorAC(error))\r\n            })\r\n    }\r\n}\r\n\r\nexport const deletePackTC = (_id: string): ThunkType => {\r\n    return (dispatch: ThunkDispatch<AppRootStateType, unknown, ActionsPacksType>) => {\r\n        dispatch(setLoadingStatusAC('loading'));\r\n        packsAPI.deletePack(_id)\r\n            .then(() => {\r\n                dispatch(fetchPacksTC())\r\n                dispatch(setLoadingStatusAC('idle'))\r\n            })\r\n            .catch((e) => {\r\n                dispatch(setLoadingStatusAC('idle'))\r\n                const error = e.response ? e.response.data.error : e.message\r\n                dispatch(setAppErrorAC(error))\r\n            })\r\n    }\r\n}\r\n\r\nexport const updatePackTC = (_id: string, name: string): ThunkType => {\r\n    return (dispatch: ThunkDispatch<AppRootStateType, unknown, ActionsPacksType>) => {\r\n        dispatch(setLoadingStatusAC('loading'));\r\n        packsAPI.updatePack(_id, name)\r\n            .then(() => {\r\n                dispatch(fetchPacksTC())\r\n                dispatch(setLoadingStatusAC('idle'))\r\n            })\r\n            .catch((e) => {\r\n                dispatch(setLoadingStatusAC('idle'))\r\n                const error = e.response ? e.response.data.error : e.message\r\n                dispatch(setAppErrorAC(error))\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, {ChangeEvent} from 'react'\r\nimport {\r\n    changePageTC,\r\n    changeRangeTC,\r\n    isMyPacksTC,\r\n    packNameTC,\r\n    sortPacksTC,\r\n    switchPageCountTC\r\n} from \"../../../store/packsReducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../../store/store\";\r\n\r\nimport {\r\n    Box,\r\n    Button,\r\n    FormControl,\r\n    InputLabel,\r\n    MenuItem,\r\n    Select,\r\n    SelectChangeEvent,\r\n    Slider,\r\n    TextField\r\n} from '@mui/material';\r\nimport s from './SortPacks.module.css'\r\n\r\n\r\nimport Switch from '@mui/material/Switch';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n\r\nconst SortPacks = () => {\r\n\r\n    let isMyPacks = useSelector<AppRootStateType, boolean>(state => state.Packs.isMyPacks);\r\n    let cardPacksTotalCount = useSelector<AppRootStateType, number>(state => state.Packs.cardPacksTotalCount);\r\n    let pageCount = useSelector<AppRootStateType, number>(state => state.Packs.pageCount);\r\n    let packName = useSelector<AppRootStateType, string>(state => state.Packs.packName);\r\n    let maxCardsCount = useSelector<AppRootStateType, number>(state => state.Packs.maxCardsCount);\r\n    let minCardsCount = useSelector<AppRootStateType, number>(state => state.Packs.minCardsCount);\r\n    let allMin = useSelector<AppRootStateType, number>(state => state.Packs.allMin);\r\n    let allMax = useSelector<AppRootStateType, number>(state => state.Packs.allMax);\r\n\r\n    /* let sortPacks = useSelector<AppRootStateType, string | null>(state => state.Packs.sortPacks);\r\n        let page = useSelector<AppRootStateType, number>(state => state.Packs.page);\r\n let pagesButtonSwitcher = useSelector<AppRootStateType, Array<number>>(state => state.Packs.pagesButtonSwitcher);\r\n    */\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    //for switch my pack\r\n    const isMyPacksOnChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        dispatch(isMyPacksTC(e.currentTarget.checked))\r\n    }\r\n\r\n    const switchPageCount = (e: SelectChangeEvent<string>) => {\r\n        const val = Number(e.target.value)\r\n        dispatch(switchPageCountTC(val))\r\n    }\r\n\r\n    //const [value, setValue] = React.useState<number[]>([20, 37]);\r\n\r\n    const changeRange = (e: any) => {\r\n        dispatch(changeRangeTC(e.target.value[0], e.target.value[1]))\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={s.cont}>\r\n\r\n            <div className={s.switch}>\r\n                <Switch\r\n                    checked={isMyPacks}\r\n                    onChange={isMyPacksOnChange}\r\n                    inputProps={{'aria-label': 'controlled'}}\r\n                />\r\n            </div>\r\n\r\n\r\n            <div className={s.isMyPack}>\r\n                {isMyPacks ? 'My pack' : 'All Pack'} : {cardPacksTotalCount}\r\n            </div>\r\n\r\n            <div className={s.selectCont}>\r\n                <div className={s.select}>\r\n                    <FormControl variant=\"standard\" sx={{m: 1, minWidth: 150}}>\r\n                        <Select\r\n                            labelId=\"demo-simple-select-filled-label\"\r\n                            id=\"demo-simple-select-filled\"\r\n                            value={pageCount.toString()}\r\n                            onChange={switchPageCount}\r\n                            size=\"small\"\r\n                        >\r\n                            <MenuItem value={10}>10 Ten</MenuItem>\r\n                            <MenuItem value={20}>20 Twenty</MenuItem>\r\n                            <MenuItem value={30}>30 Thirty</MenuItem>\r\n                            <MenuItem value={40}>40 Forty</MenuItem>\r\n                            <MenuItem value={50}>50 Fifty</MenuItem>\r\n                        </Select>\r\n                    </FormControl>\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div className={s.searchText}>\r\n                Search:\r\n            </div>\r\n\r\n\r\n            <div className={s.search}>\r\n                <TextField\r\n                    id=\"standard-basic\"\r\n                    variant=\"standard\"\r\n                    value={packName}\r\n                    size=\"small\"\r\n                    onChange={(e) => {\r\n                        dispatch(packNameTC(e.target.value))\r\n                    }}\r\n                />\r\n            </div>\r\n\r\n\r\n            <div className={s.sliderCont}>\r\n                <div className={s.slider}>\r\n                    <Slider\r\n                        size=\"small\"\r\n                        min={minCardsCount}\r\n                        max={maxCardsCount}\r\n                        value={[allMin, allMax]}\r\n                        onChange={(e) => {\r\n                            changeRange(e)\r\n                        }}\r\n                        valueLabelDisplay=\"auto\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            {/*                <div className={s.slider}>\r\n                    <Slider\r\n                        min={minCardsCount}\r\n                        max={maxCardsCount}\r\n                        value={[allMin, allMax]}\r\n                        onChange={(e) => {changeRange(e)}}\r\n                        valueLabelDisplay=\"auto\"\r\n                    />\r\n                </div>*/}\r\n\r\n\r\n            {/*            <div>\r\n                {pagesButtonSwitcher.map(b =>\r\n                    <Button\r\n                        size=\"small\"\r\n                        variant={page === b ? \"contained\" : \"text\"}\r\n                        onClick={(e) => {\r\n                            dispatch(changePageTC(b))\r\n                        }}>{b}</Button>\r\n                )}\r\n            </div>*/}\r\n\r\n            {/*<Select\r\n                value={pageCount.toString()}\r\n                variant=\"filled\"\r\n                label=\"Count\"\r\n                onChange={switchPageCount}\r\n            >\r\n                <MenuItem value={10}>10 Ten</MenuItem>\r\n                <MenuItem value={20}>20 Twenty</MenuItem>\r\n                <MenuItem value={30}>30 Thirty</MenuItem>\r\n                <MenuItem value={40}>40 Forty</MenuItem>\r\n                <MenuItem value={50}>50 Fifty</MenuItem>\r\n            </Select>*/}\r\n\r\n\r\n            {/*<div>\r\n                <input\r\n                    type={'checkbox'}\r\n                    onChange={isMyPacksOnChange}\r\n                    checked={isMyPacks}\r\n                /> My Packs\r\n            </div>*/}\r\n            {/*<div>\r\n                cardPacksTotalCount: {cardPacksTotalCount}\r\n            </div>\r\n            <div>\r\n                In One Page:\r\n                <Select\r\n                    //labelId=\"demo-simple-select-label\"\r\n                    //id=\"demo-simple-select\"\r\n                    value={pageCount.toString()}\r\n                    variant=\"filled\"\r\n                    label=\"Count\"\r\n                    onChange={switchPageCount}\r\n                >\r\n                    <MenuItem value={10}>10 Ten</MenuItem>\r\n                    <MenuItem value={20}>20 Twenty</MenuItem>\r\n                    <MenuItem value={30}>30 Thirty</MenuItem>\r\n                    <MenuItem value={40}>40 Forty</MenuItem>\r\n                    <MenuItem value={50}>50 Fifty</MenuItem>\r\n                </Select>\r\n            </div>\r\n            <div>\r\n                {pagesButtonSwitcher.map(b =>\r\n                    <Button\r\n                        size=\"small\"\r\n                        variant={page === b ? \"contained\" : \"text\"}\r\n                        onClick={(e) => {\r\n                            dispatch(changePageTC(b))\r\n                        }}>{b}</Button>\r\n                )}\r\n            </div>\r\n            <div>\r\n                Sort by:\r\n                <SortButton sortDir={'1name'} nameButton={'Up Name'}/>\r\n                <SortButton sortDir={'0name'} nameButton={'Down Name'}/>\r\n                <SortButton sortDir={'1cardsCount'} nameButton={'Up Cards Count'}/>\r\n                <SortButton sortDir={'0cardsCount'} nameButton={'Down Cards Count'}/>\r\n                <SortButton sortDir={'1updated'} nameButton={'Up Updated'}/>\r\n                <SortButton sortDir={'0updated'} nameButton={'Down Updated'}/>\r\n            </div>\r\n            <div>\r\n                Search:\r\n                <TextField\r\n                    id=\"filled-basic\"\r\n                    label=\"Filled\"\r\n                    variant=\"filled\"\r\n                    value={packName}\r\n                    onChange={(e)=>{dispatch(packNameTC(e.target.value))}}\r\n                />\r\n            </div>\r\n            <div style={{'width': '300px', 'margin': '20px'}}>\r\n\r\n                    <Slider\r\n                        min={minCardsCount}\r\n                        max={maxCardsCount}\r\n                        value={[allMin, allMax]}\r\n                        onChange={(e) => {changeRange(e)}}\r\n                        valueLabelDisplay=\"auto\"\r\n                    />\r\n\r\n            </div>*/}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SortPacks\r\n/*changeRangeTC*/\r\n\r\n/*\r\n<Button\r\nvariant={page === b ? \"contained\" : \"text\"}\r\nonClick={(e) => {dispatch(changePageTC(b))\r\n>{b}</Button>\r\n\r\n<Button variant=\"contained\">Contained</Button>*/\r\n","import React, {useState} from 'react'\r\nimport {useDispatch} from \"react-redux\";\r\nimport s from './ModalUpdatePack.module.css'\r\nimport {updatePackTC} from '../../store/packsReducer';\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Button from \"@mui/material/Button\";\r\n\r\n\r\ntype propsType = {\r\n    _id: string\r\n}\r\n\r\nconst ModalUpdatePack = (props: propsType) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const [show, setShow] = useState(false);\r\n    const [title, setTitle] = useState<string>('')\r\n\r\n    const showModal = () => {\r\n        setShow(true);\r\n    }\r\n    const onClickYes = () => {\r\n        dispatch(updatePackTC(props._id, title))\r\n        setShow(false);\r\n        setTitle('');\r\n    }\r\n    const onClickNo = () => {\r\n        setShow(false);\r\n    }\r\n    const handleChangeInput = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setTitle(event.target.value);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Button\r\n                type={'submit'}\r\n                variant={'outlined'}\r\n                color={\"primary\"}\r\n                size={\"small\"}\r\n                onClick={showModal}\r\n            >\r\n                ⚙️\r\n            </Button>\r\n            {show &&\r\n            <>\r\n                <div className={s.backgroundModal} onClick={onClickNo}></div>\r\n                <div className={s.modalContainer}>\r\n                    <div className={s.title}>Update pack:</div>\r\n                    <TextField\r\n                        variant={\"outlined\"}\r\n                        size={'small'}\r\n                        label='Pack name'\r\n                        value={title}\r\n                        onChange={handleChangeInput}\r\n                    />\r\n                    <div className={s.buttonBlock}>\r\n                        <Button\r\n                            className={s.button}\r\n                            variant={'contained'}\r\n                            color={\"primary\"}\r\n                            size={\"small\"}\r\n                            onClick={onClickYes}\r\n                        >\r\n                            Update pack\r\n                        </Button>\r\n                        <Button\r\n                            className={s.button}\r\n                            variant={'outlined'}\r\n                            color={\"primary\"}\r\n                            size={\"small\"}\r\n                            onClick={onClickNo}\r\n                        >\r\n                            Cancel\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ModalUpdatePack","import React, {useState} from 'react'\r\nimport {useDispatch} from \"react-redux\";\r\nimport s from './ModalDeletePack.module.css'\r\nimport {deletePackTC, updatePackTC} from '../../store/packsReducer';\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Button from \"@mui/material/Button\";\r\n\r\n\r\ntype propsType = {\r\n    _id: string\r\n}\r\n\r\nconst ModalDeletePack = (props: propsType) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const [show, setShow] = useState(false);\r\n\r\n    const showModal = () => {\r\n        setShow(true);\r\n    }\r\n    const onClickYes = () => {\r\n        dispatch(deletePackTC(props._id))\r\n        setShow(false);\r\n    }\r\n    const onClickNo = () => {\r\n        setShow(false);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Button\r\n                type={'submit'}\r\n                variant={'outlined'}\r\n                color={\"primary\"}\r\n                size={\"small\"}\r\n                onClick={showModal}\r\n            >\r\n                ❌️\r\n            </Button>\r\n            {show &&\r\n            <>\r\n                <div className={s.backgroundModal} onClick={onClickNo}></div>\r\n                <div className={s.modalContainer}>\r\n                    <div className={s.title}>Delete pack?</div>\r\n                    <div className={s.buttonBlock}>\r\n                        <Button\r\n                            className={s.button}\r\n                            variant={'contained'}\r\n                            color={\"primary\"}\r\n                            size={\"small\"}\r\n                            onClick={onClickYes}\r\n                        >\r\n                            Delete\r\n                        </Button>\r\n                        <Button\r\n                            className={s.button}\r\n                            variant={'outlined'}\r\n                            color={\"primary\"}\r\n                            size={\"small\"}\r\n                            onClick={onClickNo}\r\n                        >\r\n                            Cancel\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ModalDeletePack","import React from 'react'\r\nimport {sortPacksTC} from \"../../store/packsReducer\";\r\nimport Button from \"@mui/material/Button\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\n\r\ntype PropsType = {\r\n    sortDirUp: string\r\n    sortDirDown: string\r\n}\r\n\r\nconst SortButton: React.FC<PropsType> = props => {\r\n\r\n    const {\r\n        sortDirUp,\r\n        sortDirDown\r\n    } = props\r\n\r\n    let sortPacks = useSelector<AppRootStateType, string | null>(state => state.Packs.sortPacks);\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    return (\r\n        <>\r\n            {sortPacks !== sortDirUp && sortPacks !== sortDirDown &&\r\n            <Button\r\n                size=\"small\"\r\n                variant={sortPacks === sortDirUp ? \"contained\" : \"text\"}\r\n                onClick={(e) => {\r\n                    dispatch(sortPacksTC(sortDirUp))\r\n                }}\r\n            >▲</Button>}\r\n\r\n            {sortPacks === sortDirUp &&\r\n            <Button\r\n                size=\"small\"\r\n                variant={sortPacks === sortDirUp ? \"contained\" : \"text\"}\r\n                onClick={(e) => {\r\n                    dispatch(sortPacksTC(sortDirDown))\r\n                }}\r\n            >▲</Button>}\r\n\r\n            {sortPacks === sortDirDown &&\r\n            <Button\r\n                size=\"small\"\r\n                variant={sortPacks === sortDirDown ? \"contained\" : \"text\"}\r\n                onClick={(e) => {\r\n                    dispatch(sortPacksTC(sortDirUp))\r\n                }}\r\n            >▼</Button>}\r\n        </>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default SortButton\r\n\r\n","import React from 'react'\r\nimport Button from \"@mui/material/Button\";\r\nimport {changePageTC} from \"../../store/packsReducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\n\r\nconst Paginator = () => {\r\n    let pagesButtonSwitcher = useSelector<AppRootStateType, Array<number>>(state => state.Packs.pagesButtonSwitcher);\r\n    let page = useSelector<AppRootStateType, number>(state => state.Packs.page);\r\n    const dispatch = useDispatch()\r\n\r\n    return (\r\n        <div>\r\n            Page: {pagesButtonSwitcher.map(b =>\r\n                <Button\r\n                    key={b}\r\n                    size=\"small\"\r\n                    variant={page === b ? \"contained\" : \"text\"}\r\n                    onClick={(e) => {\r\n                        dispatch(changePageTC(b))\r\n                    }}>{b}</Button>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator","import React, {useState} from 'react'\r\nimport {useDispatch} from \"react-redux\";\r\nimport s from './ModalAddPack.module.css'\r\nimport {addPackTC} from '../../store/packsReducer';\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Switch from '@mui/material/Switch';\r\n\r\nconst ModalAddPack = () => {\r\n    const dispatch = useDispatch()\r\n\r\n    const [show, setShow] = useState(false);\r\n    const [title, setTitle] = useState<string>('')\r\n    const [isPrivate, setIsPrivate] = useState<boolean>(false)\r\n\r\n    const showModal = () => {\r\n        setShow(true);\r\n    }\r\n\r\n    const onClickYes = () => {\r\n        dispatch(addPackTC(title, isPrivate))\r\n        setShow(false);\r\n        setIsPrivate(false);\r\n        setTitle('');\r\n    }\r\n    const onClickNo = () => {\r\n        setShow(false);\r\n    }\r\n\r\n    const handleChangeSwitch = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setIsPrivate(event.target.checked);\r\n    };\r\n\r\n    const handleChangeInput = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setTitle(event.target.value);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Button\r\n                type={'submit'}\r\n                variant={'contained'}\r\n                color={\"primary\"}\r\n                size={\"small\"}\r\n                onClick={showModal}\r\n            >\r\n                Add pack\r\n            </Button>\r\n            {show &&\r\n            <>\r\n                <div className={s.backgroundModal} onClick={onClickNo}></div>\r\n                <div className={s.modalContainer}>\r\n                    <div className={s.title}>Add pack:</div>\r\n                    <TextField\r\n                        variant={\"outlined\"}\r\n                        size={'small'}\r\n                        label='Pack name'\r\n                        value={title}\r\n                        onChange={handleChangeInput}\r\n                    />\r\n                    <div>\r\n                        <Switch\r\n                            checked={isPrivate}\r\n                            onChange={handleChangeSwitch}\r\n                            inputProps={{'aria-label': 'controlled'}}\r\n                        />\r\n                        {isPrivate ? 'Private' : 'Public'}\r\n                    </div>\r\n                    <div className={s.buttonBlock}>\r\n                        <Button\r\n                            className={s.button}\r\n                            variant={'contained'}\r\n                            color={\"primary\"}\r\n                            size={\"small\"}\r\n                            onClick={onClickYes}\r\n                        >\r\n                            Add pack\r\n                        </Button>\r\n                        <Button\r\n                            className={s.button}\r\n                            variant={'outlined'}\r\n                            color={\"primary\"}\r\n                            size={\"small\"}\r\n                            onClick={onClickNo}\r\n                        >\r\n                            Cancel\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ModalAddPack","import React, {ChangeEvent, useEffect} from 'react';\r\n\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {PackType} from \"../../api/cardsAPI\";\r\nimport {addPackTC, deletePackTC, fetchPacksTC, isMyPacksTC, updatePackTC} from \"../../store/packsReducer\";\r\nimport {NavLink, Redirect, useHistory} from \"react-router-dom\";\r\nimport SortPacks from \"./SortPacks/SortPacks\";\r\nimport cs from \"../../common/commonStyles.module.css\";\r\nimport s from \"./Packs.module.css\";\r\nimport Button from \"@mui/material/Button\";\r\nimport ModalUpdatePack from \"../../common/ModalUpdatePack/ModalUpdatePack\";\r\nimport ModalDeletePack from '../../common/ModalDeletePack/ModalDeletePack';\r\n\r\nimport SortButton from \"../../common/SortButton/SortButton\";\r\nimport Paginator from \"../../common/Paginator/Paginator\";\r\nimport ModalAddPack from \"../../common/ModalAddPack/ModalAddPack\";\r\n\r\nfunction Packs() {\r\n    const dispatch = useDispatch()\r\n    const cardPacks = useSelector<AppRootStateType, Array<PackType>>(state => state.Packs.cardPacks)\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.LogIn.isLoggedIn);\r\n    const myProfileId = useSelector<AppRootStateType, string>(state => state.Profile._id);\r\n    const history = useHistory();\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchPacksTC())\r\n    }, [])\r\n\r\n    if (!isLoggedIn) {\r\n        return <Redirect to={\"/login\"}/>\r\n    }\r\n\r\n    const resultPack = cardPacks.map(p => {\r\n        let date = new Date(p.updated);\r\n        let formatter = new Intl.DateTimeFormat(\"ru\", {\r\n            hour: \"numeric\",\r\n            minute: \"numeric\",\r\n            second: \"numeric\"\r\n        });\r\n        const time = formatter.format(date);\r\n\r\n        const onClickerWatch = () => {\r\n            history.push(`/Cards/${p._id}/${p.cardsCount}`);\r\n        }\r\n\r\n        const onClickerLearn = () => {\r\n            history.push(`/Learn/${p._id}/${p.cardsCount}`);\r\n        }\r\n\r\n        return (\r\n            <div className={s.resultPack} key={p._id}>\r\n                <div className={s.spanName}>{p.name.substring(0, 23)}</div>\r\n                <div className={s.spanNumber}>{p.cardsCount}</div>\r\n                <div className={s.spanNumber}>{p.grade}</div>\r\n                <div className={s.spanAuthor}>{p.user_name.substring(0, 17)}</div>\r\n                <div className={s.spanNumber}>{time}</div>\r\n                <div className={s.spanButton}>\r\n                    <Button\r\n                        type={'submit'}\r\n                        variant={'outlined'}\r\n                        color={\"primary\"}\r\n                        size={\"small\"}\r\n                        onClick={onClickerWatch}\r\n                    >\r\n                        🗃️\r\n                    </Button>\r\n                    <Button\r\n                        type={'submit'}\r\n                        variant={'outlined'}\r\n                        color={\"primary\"}\r\n                        size={\"small\"}\r\n                        onClick={onClickerLearn}\r\n                    >\r\n                        💡️\r\n                    </Button>\r\n                    {myProfileId === p.user_id &&\r\n                        <>\r\n                        <ModalUpdatePack _id={p._id}/>\r\n                        <ModalDeletePack _id={p._id}/>\r\n                        </>\r\n                    }\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    })\r\n\r\n    return (\r\n        <div className={s.background}>\r\n            <div className={s.blockContainer}>\r\n                <div className={s.containerOne}>\r\n                    <SortPacks/>\r\n                    <ModalAddPack/>\r\n                </div>\r\n                <div className={s.resultPack}>\r\n                    <div className={s.spanName}>Name <SortButton sortDirUp={'1name'} sortDirDown={'0name'}/></div>\r\n                    <div className={s.spanNumber}>Cards <SortButton sortDirUp={'1cardsCount'} sortDirDown={'0cardsCount'}/></div>\r\n                    <div className={s.spanNumber}>Grade <SortButton sortDirUp={'1grade'} sortDirDown={'0grade'}/></div>\r\n                    <div className={s.spanAuthor}>Author <SortButton sortDirUp={'1user_name'} sortDirDown={'0user_name'}/></div>\r\n                    <div className={s.spanNumber}>Time <SortButton sortDirUp={'1updated'} sortDirDown={'0updated'}/></div>\r\n                    <div className={s.spanDesc}>Watch</div>\r\n                    <div className={s.spanDesc}>Learn</div>\r\n                    <div className={s.spanDesc}>Update</div>\r\n                    <div className={s.spanDesc}>Delete</div>\r\n                </div>\r\n\r\n                {resultPack}\r\n\r\n                <div className={s.containerOne}>\r\n                    <Paginator/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Packs","import {CardsResponseType, CardType, trainingCardsAPI} from \"../api/cardsAPI\";\r\nimport {setAppErrorAC, setAppErrorAT, setLoadingStatusAC, setLoadingStatusAT} from \"./appReducer\";\r\nimport {ThunkAction, ThunkDispatch} from \"redux-thunk\";\r\nimport {AppRootStateType} from \"./store\";\r\n\r\n\r\nexport const getCardsAC = (payload: CardsResponseType) => ({\r\n    type: \"cards/GET-CARDS\", payload\r\n} as const)\r\n\r\nexport const getCardsTotalCountAC = (pageCount: number) => ({\r\n    type: \"cards/SET-CARDS-TOTAL-COUNT\", pageCount\r\n} as const)\r\n\r\n\r\ntype getCardsAT = ReturnType<typeof getCardsAC>\r\ntype getCardsTotalCountAT = ReturnType<typeof getCardsTotalCountAC>\r\n\r\nexport type ActionsCardsType = setLoadingStatusAT\r\n    | setAppErrorAT\r\n    | getCardsAT\r\n    | getCardsTotalCountAT\r\n\r\n\r\nexport type InitialStateType = {\r\n    cards: Array<CardType>\r\n    cardsTotalCount: number\r\n    maxGrade: number\r\n    minGrade: number\r\n    packUserId: string\r\n    page: number\r\n    pageCount: number\r\n}\r\n\r\nconst initialState: InitialStateType = {\r\n    cards: [],\r\n    cardsTotalCount: 0,\r\n    maxGrade: 0,\r\n    minGrade: 0,\r\n    packUserId: '',\r\n    page: 0,\r\n    pageCount: 0,\r\n}\r\n\r\n\r\nexport const cardsReducer = (state: InitialStateType = initialState, action: ActionsCardsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"cards/GET-CARDS\": {\r\n            return {...state, ...action.payload}\r\n        }\r\n\r\n        case \"cards/SET-CARDS-TOTAL-COUNT\": {\r\n            return {\r\n                ...state,\r\n                cardsTotalCount: action.pageCount\r\n            }\r\n        }\r\n\r\n\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\ntype ThunkType = ThunkAction<void, AppRootStateType, unknown, ActionsCardsType>\r\n\r\nexport const fetchCardsTC = (cardsPack_id: string, pageCount: number): ThunkType => {\r\n    return (dispatch: ThunkDispatch<AppRootStateType, unknown, ActionsCardsType>) => {\r\n        dispatch(setLoadingStatusAC('loading'));\r\n        dispatch(getCardsTotalCountAC(pageCount))\r\n\r\n        trainingCardsAPI.getCards(cardsPack_id, pageCount)\r\n            .then((res) => {\r\n                dispatch(getCardsAC(res.data))\r\n                dispatch(setLoadingStatusAC('idle'))\r\n            })\r\n            .catch((e) => {\r\n                dispatch(setLoadingStatusAC('idle'))\r\n                const error = e.response ? e.response.data.error : e.message\r\n                dispatch(setAppErrorAC(error))\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const addCardTC = (cardsPack_id: string, question: string, answer: string, grade: number): ThunkType => {\r\n    return (dispatch: ThunkDispatch<AppRootStateType, unknown, ActionsCardsType>, getState: () => AppRootStateType) => {\r\n        const cardsTotalCount = getState().Cards.cardsTotalCount\r\n\r\n        dispatch(setLoadingStatusAC('loading'));\r\n        trainingCardsAPI.addCard(cardsPack_id, question, answer, grade)\r\n            .then(() => {\r\n                dispatch(fetchCardsTC(cardsPack_id, cardsTotalCount));\r\n                dispatch(setLoadingStatusAC('idle'));\r\n\r\n            })\r\n            .catch((e) => {\r\n                dispatch(setLoadingStatusAC('idle'))\r\n                const error = e.response ? e.response.data.error : e.message\r\n                dispatch(setAppErrorAC(error))\r\n            })\r\n    }\r\n}\r\nexport const deleteCardTC = (_id:string, cardsPack_id: string): ThunkType => {\r\n    return (dispatch: ThunkDispatch<AppRootStateType, unknown, ActionsCardsType>, getState: () => AppRootStateType) => {\r\n        const cardsTotalCount = getState().Cards.cardsTotalCount\r\n\r\n        dispatch(setLoadingStatusAC('loading'));\r\n        trainingCardsAPI.deleteCard(_id)\r\n            .then(() => {\r\n                dispatch(fetchCardsTC(cardsPack_id, cardsTotalCount));\r\n                dispatch(setLoadingStatusAC('idle'));\r\n            })\r\n            .catch((e) => {\r\n                dispatch(setLoadingStatusAC('idle'))\r\n                const error = e.response ? e.response.data.error : e.message\r\n                dispatch(setAppErrorAC(error))\r\n            })\r\n    }\r\n}\r\n\r\nexport const updateCardTC = (cardsPack_id: string, _id: string, question: string, answer: string, grade: number): ThunkType => {\r\n    return (dispatch: ThunkDispatch<AppRootStateType, unknown, ActionsCardsType>, getState: () => AppRootStateType) => {\r\n        const cardsTotalCount = getState().Cards.cardsTotalCount\r\n\r\n        dispatch(setLoadingStatusAC('loading'));\r\n        trainingCardsAPI.updateCard(_id, question, answer, grade)\r\n            .then(() => {\r\n                dispatch(fetchCardsTC(cardsPack_id, cardsTotalCount));\r\n                dispatch(setLoadingStatusAC('idle'));\r\n            })\r\n            .catch((e) => {\r\n                dispatch(setLoadingStatusAC('idle'))\r\n                const error = e.response ? e.response.data.error : e.message\r\n                dispatch(setAppErrorAC(error))\r\n            })\r\n    }\r\n}\r\n","import React, {useEffect} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {CardType} from \"../../api/cardsAPI\";\r\nimport {addCardTC, deleteCardTC, fetchCardsTC, updateCardTC} from \"../../store/cardsReducer\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport Cards from \"./Cards\";\r\nimport s from \"./Cards.module.css\";\r\nimport SortPacks from \"../Packs/SortPacks/SortPacks\";\r\nimport ModalAddPack from \"../../common/ModalAddPack/ModalAddPack\";\r\nimport SortButton from \"../../common/SortButton/SortButton\";\r\nimport Button from \"@mui/material/Button\";\r\nimport ModalUpdatePack from \"../../common/ModalUpdatePack/ModalUpdatePack\";\r\nimport ModalDeletePack from \"../../common/ModalDeletePack/ModalDeletePack\";\r\n\r\n\r\nfunction CardsContainer() {\r\n    const dispatch = useDispatch()\r\n    const cards = useSelector<AppRootStateType, CardType[]>(state => state.Cards.cards)\r\n    const myProfileId = useSelector<AppRootStateType, string>(state => state.Profile._id);\r\n    const {cardsPack_id} = useParams<{ cardsPack_id: string }>()\r\n    const {cardsCount} = useParams<{ cardsCount: string }>()\r\n\r\n    useEffect(() => {\r\n        console.log(cardsCount)\r\n        dispatch(fetchCardsTC(cardsPack_id, Number(cardsCount)))\r\n    }, [])\r\n\r\n\r\n\r\n/*    const cardsForTable = cards.map((c) => ({\r\n        firstCell: c.question,\r\n        secondCell: c.answer,\r\n        thirdCell: c.grade,\r\n        forthCell: c.updated,\r\n        _id: c._id,\r\n\r\n    }))*/\r\n\r\n/*    const addCardHandler = (cardsPack_id: string) => {\r\n        dispatch(addCardTC(cardsPack_id, \"test question\", \"test answer\", 0))\r\n    }*/\r\n\r\n/*    const deleteCardHandler = (_id: string) => {\r\n        dispatch(deleteCardTC(_id, cardsPack_id))\r\n    }*/\r\n/*    const updateCardCardHandler = (_id: string) => {\r\n        dispatch(updateCardTC(cardsPack_id, _id, \"updated question\", \"updated answer\", 1))\r\n    }*/\r\n\r\n    const resultCard = cards.map(p => {\r\n        let date = new Date(p.updated);\r\n        let formatter = new Intl.DateTimeFormat(\"ru\", {\r\n            hour: \"numeric\",\r\n            minute: \"numeric\",\r\n            second: \"numeric\"\r\n        });\r\n        const time = formatter.format(date);\r\n\r\n/*        const onClickerWatch = () => {\r\n            history.push(`/Cards/${p._id}/${p.cardsCount}`);\r\n        }\r\n\r\n        const onClickerLearn = () => {\r\n            history.push(`/Learn/${p._id}/${p.cardsCount}`);\r\n        }*/\r\n\r\n        return (\r\n            <div className={s.resultCard} key={p._id}>\r\n                <div className={s.spanQuestion}>{p.question}</div>\r\n                <div className={s.spanAnswer}>{p.answer}</div>\r\n                <div className={s.spanNumber}>{String(p.grade).substring(0, 4)}</div>\r\n                <div className={s.spanNumber}>{time}</div>\r\n                <div className={s.spanButton}>\r\n                    <Button\r\n                        type={'submit'}\r\n                        variant={'outlined'}\r\n                        color={\"primary\"}\r\n                        size={\"small\"}\r\n                        onClick={alert}\r\n                    >\r\n                        💡️\r\n                    </Button>\r\n                    {myProfileId === p.user_id &&\r\n                    <>\r\n                        <ModalUpdatePack _id={p._id}/>\r\n                        <ModalDeletePack _id={p._id}/>\r\n                    </>\r\n                    }\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    })\r\n\r\n    return (\r\n        <div className={s.background}>\r\n            <div className={s.blockContainer}>\r\n                <div className={s.containerOne}>\r\n                    <ModalAddPack/>\r\n                </div>\r\n                <div className={s.resultTitle}>\r\n                    <div className={s.question}>Question <SortButton sortDirUp={'1question'} sortDirDown={'0question'}/></div>\r\n                    <div className={s.answer}>Answer <SortButton sortDirUp={'1answer'} sortDirDown={'0answer'}/></div>\r\n                    <div className={s.spanNumber}>Grade <SortButton sortDirUp={'1grade'} sortDirDown={'0grade'}/></div>\r\n                    <div className={s.spanNumber}>Time <SortButton sortDirUp={'1updated'} sortDirDown={'0updated'}/></div>\r\n                    <div className={s.spanDesc}>Learn</div>\r\n                    <div className={s.spanDesc}>Update</div>\r\n                    <div className={s.spanDesc}>Delete</div>\r\n                </div>\r\n                {resultCard}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CardsContainer;","import {CardType, learnAPI, trainingCardsAPI} from \"../api/cardsAPI\";\r\nimport {setAppErrorAC, setAppErrorAT, setLoadingStatusAC, setLoadingStatusAT} from \"./appReducer\";\r\nimport {ThunkAction, ThunkDispatch} from \"redux-thunk\";\r\nimport {AppRootStateType} from \"./store\";\r\n\r\n\r\nexport const getInfoCardAC = () => ({\r\n    type: \"learn/GET-INFO-CARD\"\r\n} as const);\r\n\r\n\r\ntype getInfoCardAT = ReturnType<typeof getInfoCardAC>\r\n\r\n\r\nexport type ActionsLearnType = setLoadingStatusAT\r\n    | setAppErrorAT\r\n    | getInfoCardAT\r\n\r\n\r\nexport type InitialStateType = {\r\n\r\n}\r\n\r\nconst initialState: InitialStateType = {\r\n\r\n}\r\n\r\nexport const learnReducer = (state: InitialStateType = initialState, action: ActionsLearnType): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"learn/GET-INFO-CARD\": {\r\n            return {...state}\r\n        }\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\ntype ThunkType = ThunkAction<void, AppRootStateType, unknown, ActionsLearnType>\r\n\r\nexport const learnCardsTC = (grade: number, card_id: string): ThunkType => {\r\n    return (dispatch: ThunkDispatch<AppRootStateType, unknown, ActionsLearnType>) => {\r\n        dispatch(setLoadingStatusAC('loading'));\r\n        learnAPI.gradeCard(grade, card_id)\r\n            .then((res) => {\r\n                //dispatch(getInfoCardAC())\r\n                dispatch(setLoadingStatusAC('idle'))\r\n            })\r\n            .catch((e) => {\r\n                dispatch(setLoadingStatusAC('idle'))\r\n                const error = e.response ? e.response.data.error : e.message\r\n                dispatch(setAppErrorAC(error))\r\n            })\r\n    }\r\n}","import React from \"react\";\r\nimport {CardType} from \"../../api/cardsAPI\";\r\nimport Button from \"@mui/material/Button\";\r\nimport s from \"./Learn.module.css\";\r\n\r\ntype LearnQuestionPropsType = {\r\n    setShowAnswer: (value: boolean) => void\r\n    card: CardType\r\n}\r\n\r\n\r\nexport const LearnQuestion: React.FC<LearnQuestionPropsType> = React.memo((props) => {\r\n    return (\r\n\r\n        <div className={s.container}>\r\n            <div className={s.blockOne}>\r\n                <span className={s.title}>Question: </span>\r\n                <span className={s.text}>{props.card.question}</span>\r\n            </div>\r\n            <div className={s.blockOne}>\r\n                <Button\r\n                    onClick={() => props.setShowAnswer(true)}\r\n                    size=\"small\"\r\n                    variant={\"contained\"}\r\n                >\r\n                    Show answer\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n})","import React, {ChangeEvent, useCallback, useState} from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport s from './Learn.module.css'\r\nimport {CardType} from \"../../api/cardsAPI\";\r\n\r\ntype LearnAnswerPropsType = {\r\n    setShowAnswer: (value: boolean) => void\r\n    card: CardType\r\n    onNextCard: (grade: number) => void\r\n}\r\n\r\nconst grades = ['не знаю', 'немного знаю', 'есть неточность', 'знаю почти всё', 'всё знаю'];\r\n\r\nexport const LearnAnswer: React.FC<LearnAnswerPropsType> = React.memo((props) => {\r\n\r\n    const {\r\n        setShowAnswer,\r\n        card,\r\n        onNextCard,\r\n    } = props;\r\n\r\n    const [value, setValue] = useState<number>(-1);\r\n\r\n    const onChangeHandler = useCallback((e: ChangeEvent<HTMLInputElement>) => {\r\n        setValue(Number(e.currentTarget.value) as number)\r\n    }, []);\r\n\r\n    return (\r\n        <div className={s.container}>\r\n            <div className={s.blockOne}>\r\n                <span className={s.title}>Question: </span>\r\n                <span className={s.text}>{props.card.question}</span>\r\n            </div>\r\n            <div className={s.blockOne}>\r\n                <span className={s.title}>Answer: </span>\r\n                <span className={s.text}>{props.card.answer}</span>\r\n            </div>\r\n            <div className={s.blockOne}>\r\n                <div>\r\n                    <input\r\n                        type={\"radio\"}\r\n                        value={1}\r\n                        checked={value === 1}\r\n                        onChange={onChangeHandler}\r\n                    /><span className={s.answerText}>{grades[0]}</span>\r\n                </div>\r\n                <div>\r\n                    <input\r\n                        type={\"radio\"}\r\n                        value={2}\r\n                        checked={value === 2}\r\n                        onChange={onChangeHandler}\r\n                    /><span className={s.answerText}>{grades[1]}</span>\r\n                </div>\r\n                <div>\r\n                    <input\r\n                        type={\"radio\"}\r\n                        value={3}\r\n                        checked={value === 3}\r\n                        onChange={onChangeHandler}\r\n                    /><span className={s.answerText}>{grades[2]}</span>\r\n                </div>\r\n                <div>\r\n                    <input\r\n                        type={\"radio\"}\r\n                        value={4}\r\n                        checked={value === 4}\r\n                        onChange={onChangeHandler}\r\n                    /><span className={s.answerText}>{grades[3]}</span>\r\n                </div>\r\n                <div>\r\n                    <input\r\n                        type={\"radio\"}\r\n                        value={5}\r\n                        checked={value === 5}\r\n                        onChange={onChangeHandler}\r\n                    /><span className={s.answerText}>{grades[4]}</span>\r\n                </div>\r\n            </div>\r\n            <div className={s.blockOne}>\r\n                <Button\r\n                    onClick={() => setShowAnswer(false)}\r\n                    size=\"small\"\r\n                    variant={\"text\"}\r\n                >\r\n                    Cancel\r\n                </Button>\r\n                <Button\r\n                    onClick={() => onNextCard(value)}\r\n                    size=\"small\"\r\n                    variant={\"contained\"}\r\n                >\r\n                    Next\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n})","import React, {useCallback, useEffect, useState} from 'react'\r\nimport cs from \"../../common/commonStyles.module.css\";\r\nimport {Redirect, useParams} from \"react-router-dom\";\r\nimport {CardType, PackType} from \"../../api/cardsAPI\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {fetchCardsTC} from \"../../store/cardsReducer\";\r\nimport {learnCardsTC} from \"../../store/learnReducer\";\r\nimport {LearnQuestion} from \"./LearnQuestion\";\r\nimport { LearnAnswer } from './LearnAnswer';\r\n\r\nconst getCard = (cards: CardType[]) => {\r\n    const sum = cards.reduce((acc, card) => acc + (6 - card.grade) * (6 - card.grade), 0);\r\n    const rand = Math.random() * sum;\r\n    const res = cards.reduce((acc: { sum: number, id: number}, card, i) => {\r\n            const newSum = acc.sum + (6 - card.grade) * (6 - card.grade);\r\n            return {sum: newSum, id: newSum < rand ? i : acc.id}\r\n        }\r\n        , {sum: 0, id: -1});\r\n    console.log('test: ', sum, rand, res)\r\n\r\n    return cards[res.id + 1];\r\n}\r\n\r\nconst Learn = () => {\r\n\r\n    const {cardsCount} = useParams<{ cardsCount: string }>()\r\n    const {cardsPack_id} = useParams<{ cardsPack_id: string }>()\r\n\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.LogIn.isLoggedIn)\r\n    const cards = useSelector<AppRootStateType, Array<CardType>>(state => state.Cards.cards)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const [showAnswer, setShowAnswer] = useState<boolean>(false)\r\n    const [firstCard, setFirstCard] = useState<boolean>(true)\r\n    const [card, setCard] = useState<CardType>({_id: \"\"} as CardType)\r\n\r\n    useEffect(() => {\r\n        if (firstCard) {\r\n            dispatch(fetchCardsTC(cardsPack_id, Number(cardsCount)))\r\n            setFirstCard(false)\r\n        }\r\n        if (cards.length > 0) {\r\n            setCard(getCard(cards))\r\n        }\r\n    }, [dispatch, cards, firstCard, cardsPack_id]);\r\n\r\n    const onNextCard = useCallback((grade: number) => {\r\n        if (cards.length > 0) {\r\n            if (grade !== -1) {\r\n                setShowAnswer(false)\r\n                dispatch(learnCardsTC(grade, card._id))\r\n                setCard(getCard(cards))\r\n            }\r\n\r\n        }\r\n    }, [dispatch, cards, card]);\r\n\r\n    if (!isLoggedIn) {\r\n        return <Redirect to={\"/login\"}/>\r\n    }\r\n\r\n    return (\r\n        <div className={cs.background}>\r\n            <div className={cs.blockContainer}>\r\n                <h3 className={cs.text}>Learn</h3>\r\n                {!showAnswer\r\n                    ? <LearnQuestion\r\n                        setShowAnswer={setShowAnswer}\r\n                        card={card}\r\n\r\n                    />\r\n                    : <LearnAnswer\r\n                        setShowAnswer={setShowAnswer}\r\n                        card={card}\r\n                        onNextCard={onNextCard}\r\n                    />}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Learn","import React from 'react';\r\nimport {Redirect, Route, Switch} from 'react-router-dom';\r\n/*import s from './App.module.css';*/\r\nimport Error404 from './pages/Error404/Error404';\r\nimport {LogIn} from './pages/LogIn/LogIn';\r\nimport SetNewPassword from \"../src/pages/SetNewPassword/SetNewPassword\";\r\nimport RecoveryPassword from \"./pages/RecoveryPassword/RecoveryPassword\";\r\nimport SignUp from './pages/SignUp/SignUp';\r\nimport LoadingLine from './common/LoadingLine/LoadingLine';\r\nimport {ErrorSnackbar} from './common/ErrorSnackbar/ErrorSnackbar';\r\nimport EditProfile from \"./pages/EditProfile/EditProfile\";\r\nimport Header from \"./pages/Header/Header\";\r\nimport ProfileContainer from \"./pages/Profile/ProfileContainer\";\r\nimport StartPage from \"./pages/StartPage/StartPage\";\r\nimport Packs from \"./pages/Packs/Packs\";\r\nimport CardsContainer from \"./pages/Cards/CardsContainer\";\r\nimport Learn from './pages/Learn/Learn';\r\n\r\n\r\nfunction App() {\r\n    return (\r\n        <div className=\"App\">\r\n            <Header/>\r\n            <LoadingLine/>\r\n            <Switch>\r\n                <Route exact path={'/'} render={() => <StartPage/>}/>\r\n                <Route path={'/SetNewPassword/:token'} render={() => <SetNewPassword/>}/>\r\n                <Route path={'/Error404'} render={() => <Error404/>}/>\r\n                <Route path={'/Login'} render={() => <LogIn/>}/>\r\n                <Route path={'/Profile'} render={() => <ProfileContainer/>}/>\r\n                <Route path={'/RecoveryPassword'} render={() => <RecoveryPassword/>}/>\r\n                <Route path={'/SignUp'} render={() => <SignUp/>}/>\r\n                <Route path={'/EditProfile'} render={() => <EditProfile/>}/>\r\n                <Route path={'/Packs'} render={() => <Packs/>}/>\r\n                <Route path={'/Cards/:cardsPack_id/:cardsCount'} render={() => <CardsContainer/>}/>\r\n                <Route path={'/Learn/:cardsPack_id/:cardsCount'} render={() => <Learn/>}/>\r\n                <Redirect from={'*'} to={'/error404'}/>\r\n            </Switch>\r\n            <ErrorSnackbar/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {appReducer} from \"./appReducer\";\r\nimport {setNewPasswordReducer} from \"./setNewPasswordReducer\";\r\nimport {LogInReducer} from \"./logInReducer\";\r\nimport {ProfileReducer} from \"./profileReducer\";\r\nimport {RecoveryPasswordReducer} from \"./recoveryPasswordReducer\";\r\nimport {SignUpReducer} from \"./signUpReducer\";\r\nimport {packsReducer} from \"./packsReducer\";\r\nimport {cardsReducer} from \"./cardsReducer\";\r\nimport {learnReducer} from \"./learnReducer\";\r\n\r\n// объединяя reducer-ы с помощью combineReducers,\r\nconst rootReducer = combineReducers({\r\n    app: appReducer,\r\n    setNewPassword: setNewPasswordReducer,\r\n    LogIn: LogInReducer,\r\n    Profile: ProfileReducer,\r\n    RecoveryPassword: RecoveryPasswordReducer,\r\n    SignUp: SignUpReducer,\r\n    Packs: packsReducer,\r\n    Cards: cardsReducer,\r\n    Learn: learnReducer\r\n})\r\n\r\n// непосредственно создаём store\r\nexport const store = createStore(rootReducer, applyMiddleware(thunkMiddleware));\r\n\r\n// определить автоматически тип всего объекта состояния\r\nexport type AppRootStateType = ReturnType<typeof rootReducer>\r\n\r\n// а это, чтобы можно было в консоли браузера обращаться к store в любой момент\r\n// @ts-ignore\r\nwindow.store = store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {HashRouter } from 'react-router-dom';\r\nimport {store} from \"./store/store\";\r\nimport { Provider } from 'react-redux';\r\n\r\n// commit connection\r\n\r\n\r\n//coment\r\n\r\n//3\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <HashRouter>\r\n            <App/>\r\n        </HashRouter>\r\n    </Provider>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Learn_container__3Kujv\",\"blockOne\":\"Learn_blockOne__ihbmS\",\"title\":\"Learn_title__1ItWJ\",\"text\":\"Learn_text__3MXif\",\"answerText\":\"Learn_answerText__2LIpB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"background\":\"Cards_background__2s9b1\",\"blockContainer\":\"Cards_blockContainer__1gJP8\",\"containerOne\":\"Cards_containerOne__1Nfns\",\"resultTitle\":\"Cards_resultTitle__PBJXw\",\"resultCard\":\"Cards_resultCard__1qhd4\",\"question\":\"Cards_question__1Yvy5\",\"spanQuestion\":\"Cards_spanQuestion__zL0Ki\",\"answer\":\"Cards_answer__3O0Js\",\"spanAnswer\":\"Cards_spanAnswer__3mjhY\",\"spanNumber\":\"Cards_spanNumber__2xE1A\",\"spanDesc\":\"Cards_spanDesc__1vXGI\",\"spanButton\":\"Cards_spanButton__1ek-j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerBlock\":\"Haeder_headerBlock__2b7JJ\",\"nav\":\"Haeder_nav__xQjmm\",\"item\":\"Haeder_item__3CdaX\",\"activeLink\":\"Haeder_activeLink__17v7Z\",\"isLoginFix\":\"Haeder_isLoginFix__ORcrh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imgContainer\":\"Profile_imgContainer__3JzgA\",\"imgAvatar\":\"Profile_imgAvatar__3vdA_\",\"textBlock\":\"Profile_textBlock__1fDuG\",\"textOne\":\"Profile_textOne__2S3bk\",\"textTwo\":\"Profile_textTwo__EBYq4\",\"button\":\"Profile_button__28idB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"SortPacks_selectedPage__Rbvht\",\"cont\":\"SortPacks_cont__10rAN\",\"switch\":\"SortPacks_switch__2z2fL\",\"isMyPack\":\"SortPacks_isMyPack__3iuEr\",\"selectCont\":\"SortPacks_selectCont__34KjJ\",\"select\":\"SortPacks_select__3gnqe\",\"searchText\":\"SortPacks_searchText__1EGQA\",\"search\":\"SortPacks_search__sbpMT\",\"sliderCont\":\"SortPacks_sliderCont__kjvFP\",\"slider\":\"SortPacks_slider__38Dev\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backgroundModal\":\"ModalUpdatePack_backgroundModal__3IBVg\",\"modalContainer\":\"ModalUpdatePack_modalContainer__2U9aE\",\"buttonBlock\":\"ModalUpdatePack_buttonBlock__2UlcL\",\"title\":\"ModalUpdatePack_title__2rGXR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backgroundModal\":\"ModalDeletePack_backgroundModal__3JsNl\",\"modalContainer\":\"ModalDeletePack_modalContainer__3So2w\",\"buttonBlock\":\"ModalDeletePack_buttonBlock__1c1vk\",\"title\":\"ModalDeletePack_title__1b2um\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backgroundModal\":\"ModalAddPack_backgroundModal__3N6hX\",\"modalContainer\":\"ModalAddPack_modalContainer__3Kjwy\",\"buttonBlock\":\"ModalAddPack_buttonBlock__rREgY\",\"title\":\"ModalAddPack_title__jwF_F\"};"],"sourceRoot":""}